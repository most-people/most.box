(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6566],{4673:(e,t,s)=>{"use strict";s.d(t,{BP:()=>m,OM:()=>u,yO:()=>p});var n=s(30167),r=s(71425),a=s(44532),i=s(87788),o=s(56076),l=s(88413),c=s(70358),d=s(26634),h=s.n(d);let m=(e,t,s)=>{let c=(0,n.YW)(t),d=(0,n.YW)("/most.box/"+e),m=(0,r.A)(c,d,3,32,"sha512"),p=(0,a.q5)((0,i.s)(m)),u=p.slice(0,32),g=h().box.keyPair.fromSecretKey(u),x=(0,a.c$)(g.publicKey),f=(0,a.c$)(g.secretKey),b=o.v.entropyToPhrase(p);return{username:e,address:l.QX.fromPhrase(b).address,public_key:x,private_key:f,mnemonic:"I know loss mnemonic will lose my wallet."===s?b:""}},p=(e,t,s)=>{let n=new TextEncoder().encode(e),r=h().randomBytes(h().box.nonceLength),i=h().box(n,r,new Uint8Array((0,a.q5)(t)),new Uint8Array((0,a.q5)(s)));return i?["mp://2",(0,c.W)(r),(0,c.W)(i)].join("."):(console.info("加密失败"),"")},u=(e,t,s)=>{let[n,r,i]=e.split(".");if("mp://2"!==n)return console.info("无效协议"),"";let o=h().box.open((0,c.y)(i),(0,c.y)(r),new Uint8Array((0,a.q5)(t)),new Uint8Array((0,a.q5)(s)));return o?new TextDecoder().decode(o):(console.info("解密失败"),"")}},9482:(e,t,s)=>{"use strict";s.d(t,{A:()=>v});var n=s(70358),r=s(30167),a=s(88413),i=s(19396),o=s(96842),l=s(42995),c=s(3648),d=s(4673),h=s(59909),m=s(30832),p=s.n(m),u=s(99758),g=s.n(u);s(38464);var x=s(76920),f=s.n(x);p().extend(f()),p().extend(g()),p().locale("zh-cn");let b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYMMDD",s=p()().format(t),n=sessionStorage.getItem("fingerprint");if(!n)throw Error("请先获取设备指纹");let r=[location.origin,n].join("/"),{public_key:a,private_key:i}=(0,d.BP)(s,r);return(0,d.yO)(JSON.stringify(e),a,i)},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYMMDD",s=p()().format(t),n=sessionStorage.getItem("fingerprint");if(!n)throw Error("请先获取设备指纹");let r=[location.origin,n].join("/"),{public_key:a,private_key:i}=(0,d.BP)(s,r),o=(0,d.OM)(e,a,i);if(o)try{let e=JSON.parse(o);if(e.address)return e}catch(e){console.error(e)}return console.log("jwt 过期"),null},y=async e=>{let t=Date.now().toString(),s=a.QX.fromPhrase(e.mnemonic),n=await s.signMessage(t);localStorage.token=[e.address,t,n].join(".")},w=e=>{try{var t;let s=b(e);if((null==(t=j(s))?void 0:t.address)===e.address)return localStorage.setItem("jwt",s),y(e),e}catch(e){console.log("登录失败:",e)}return null},v={avatar:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Most";return(0,o.gn)(l,{seed:"most.box@"+e,flip:!0,backgroundType:["gradientLinear"]}).toDataUri()},avatarCID:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Most";return(0,o.gn)(c,{seed:"most.box#"+e,flip:!0,backgroundType:["gradientLinear","solid"]}).toDataUri()},formatTime:e=>{let t;if(!e)return"";let s=p()(Number(e)),n=s.hour();return t=n>=0&&n<3?"凌晨":n>=3&&n<6?"拂晓":n>=6&&n<9?"早晨":n>=9&&n<12?"上午":n>=12&&n<15?"下午":n>=15&&n<18?"傍晚":n>=18&&n<21?"薄暮":"深夜",s.format("YYYY年M月D日 ".concat(t,"h点m分"))},formatDate:e=>{let t=p()(Number(e)),s=p()();return t.isSame(s,"day")?t.format("HH:mm"):t.isSame(s.subtract(1,"day"),"day")?"昨天 ".concat(t.format("HH:mm")):t.isoWeek()===s.isoWeek()?"".concat(["周日","周一","周二","周三","周四","周五","周六"][t.day()]," ").concat(t.format("HH:mm")):t.year()===s.year()?t.format("M月D日"):t.format("YY年M月D日")},formatAddress:e=>e?e.slice(0,6)+"..."+e.slice(-4):"",enBase64:e=>(0,n.W)((0,r.YW)(e)),deBase64:e=>(0,r._v)((0,n.y)(e)),createJWT:b,verifyJWT:j,login:(e,t)=>w((0,d.BP)(e,t,"I know loss mnemonic will lose my wallet.")),loginSave:w,ZeroAddress:i.j,createToken:y,pinyin:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(t.length<s)return!1;if(e.toLowerCase().includes(t.toLowerCase()))return!0;let n=(0,h.YW)(e,t,{continuous:!0});return!!n&&!!(n.length>=s)}}},48764:(e,t,s)=>{"use strict";s.d(t,{k:()=>o});var n=s(9482),r=s(65453),a=s(54205),i=s(6942);let o=(0,r.v)((e,t)=>({wallet:void 0,initWallet(s){e({fingerprint:s});let r=localStorage.getItem("jwt");if(r){let s=n.A.verifyJWT(r);s?(n.A.createToken(s),e({wallet:s})):t().exit()}},async updateDot(t){try{let s=new URL(t).origin,n=(await a.FH.get("/api.dot",{baseURL:s})).data;a.FH.defaults.baseURL=s,e({dotAPI:s}),localStorage.setItem("dotAPI",s);let r=n.CIDs[0];return s.endsWith(":1976")&&(r=s.slice(0,-5)+":8080"),r&&(e({dotCID:r}),localStorage.setItem("dotCID",r)),e({notes:void 0,files:void 0}),n.APIs}catch(s){i.notifications.show({title:"节点不可用",message:t||s.message,color:"red"}),console.info(s),e({dotAPI:a.FH.defaults.baseURL||""})}return null},setItem:(t,s)=>e(e=>({...e,[t]:s})),firstPath:"",dotAPI:"",dotCID:"",dotNodes:[],notes:void 0,notesQuery:"",nodeDark:"",files:void 0,filesPath:"",fingerprint:"",exit(){e({wallet:void 0,notes:void 0,files:void 0}),localStorage.removeItem("jwt"),localStorage.removeItem("token")}}))},54205:(e,t,s)=>{"use strict";s.d(t,{C2:()=>r,FH:()=>a});var n=s(23464);let r="https://most.box/auth/callback",a=n.A.create({baseURL:""});a.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=t),e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>Promise.reject(e))},71281:()=>{},76889:(e,t,s)=>{Promise.resolve().then(s.bind(s,80505))},80505:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>es});var n=s(95155),r=s(12115),a=s(80630),i=s(91590),o=s(69604),l=s(21220),c=s(58887),d=s(93751),h=s(93695),m=s(70112),p=s(8593),u=s(26903),g=s(70058),x=s(35049),f=s(15763),b=s(27361),j=s(81001),y=s(97287),w=s(74634),v=s(18403),A=s(26029),k=s(53776),I=s(59117),T=s(19215),S=s(6942),z=s(12257),C=s(33686),P=s(876),D=s(96482),B=s(41698),O=s(54476),N=s(22439),M=s(54395),U=s(89586),Y=s(30699),R=s(50828),L=s(2737),_=s(28018),W=s(36655),G=s(9482),H=s(4120),E=s(6874),q=s.n(E),F=s(48764),J=s(4673),K=s(30832),Q=s.n(K);let X=["https://base.llamarpc.com","https://mainnet.base.org","https://developer-access-mainnet.base.org","https://base-mainnet.diamondswap.org/rpc","https://base.public.blockpi.network/v1/rpc/public","https://1rpc.io/base","https://base-pokt.nodies.app","https://base.meowrpc.com","https://base-mainnet.public.blastapi.io","https://base.gateway.tenderly.co","https://gateway.tenderly.co/public/base","https://rpc.notadegen.com/base","https://base-rpc.publicnode.com","https://base.drpc.org","https://base.api.onfinality.io/public","https://public.stackup.sh/api/v1/node/base-mainnet","https://base-mainnet.gateway.tatum.io","https://base.rpc.subquery.network/public","https://api.zan.top/base-mainnet","https://endpoints.omniatech.io/v1/base/mainnet/public","https://base.lava.build","https://rpc.numa.network/base","https://node.histori.xyz/base-mainnet/8ry9f6t9dct1se2hlagxnd9n2a","https://0xrpc.io/base","https://rpc.owlracle.info/base/70d38ce1826c4a60bb2a8e05a6c8b20f","https://base.therpc.io"],Z="0xdc82cef1a8416210afb87caeec908a4df843f016",$=()=>X[Math.floor(Math.random()*X.length)],V={mainnet:{chainId:8453,rpc:$(),name:"Base 主网",color:"blue",explorer:"https://basescan.org"},testnet:{chainId:84532,rpc:"https://sepolia.base.org",name:"Base 测试网",color:"orange",explorer:"https://sepolia.basescan.org"}},ee=[{inputs:[],name:"getAllDots",outputs:[{internalType:"address[]",name:"addresses",type:"address[]"},{internalType:"string[]",name:"names",type:"string[]"},{internalType:"uint256[]",name:"timestamps",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"dot",type:"address"}],name:"getDot",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string[]",name:"APIs",type:"string[]"},{internalType:"string[]",name:"CIDs",type:"string[]"},{internalType:"uint256",name:"update",type:"uint256"}],stateMutability:"view",type:"function"}];var et=s(35695);function es(){(0,et.useRouter)();let e=(0,F.k)(e=>e.setItem),t=(0,F.k)(e=>e.dotAPI),s=(0,F.k)(e=>e.dotNodes),E=(0,F.k)(e=>e.updateDot),[K,X]=(0,r.useState)(!1),[es,en]=(0,r.useState)([]),[er,ea]=(0,r.useState)(""),[ei,eo]=(0,r.useState)(!0),[el,ec]=(0,r.useState)(!1),[ed,eh]=(0,r.useState)(null),[em,ep]=(0,r.useState)(null),[eu,eg]=(0,r.useState)("mainnet"),ex=V[eu].rpc,[ef,eb]=(0,r.useState)(ex),ej=V[eu].explorer,[ey,ew]=(0,r.useState)("bafkreihp5o7tdipf6ajkgkdxknnffkuxpeecwqydi4q5iqt4gko6r2agk4?filename=长征.jpg"),[ev,eA]=(0,r.useState)(!1),[ek,eI]=(0,r.useState)({}),eT=s.filter(e=>e.isOnline),eS=s.filter(e=>!1===e.isOnline),ez=(0,r.useMemo)(()=>{try{return new URL(t).host.toUpperCase()}catch(e){return"DOT.MOST.BOX"}},[t]),eC=e=>{var t;return null==(t=e.APIs.find(e=>e.endsWith(":1976")))?void 0:t.replace(":1976",":8080/ipfs")},eP=e=>e.APIs.some(e=>{try{return new URL(e).origin===new URL(t).origin}catch(e){return!1}}),eD=(e,t,s)=>{S.notifications.show({title:e,message:t,color:s})},eB=async e=>{let t=Date.now(),s=new AbortController,n=setTimeout(()=>s.abort(),2e3);try{let r=await fetch(e,{headers:{Range:"bytes=0-1023"},signal:s.signal}),a=Date.now()-t;if(clearTimeout(n),r.ok||206===r.status)return{status:"success",responseTime:a};return{status:"error",responseTime:a}}catch(e){if(clearTimeout(n),"AbortError"===e.name)return{status:"timeout"};return{status:"error"}}},eO=async()=>{if(!(e=>{if(!(e=e.trim().split("?")[0]))return eD("CID不能为空","请输入一个CID进行检测","orange"),!1;try{return H.TO.parse(e),!0}catch(e){return eD("无效的 CID","输入的值不是有效的 CID","red"),!1}})(ey))return;eA(!0);let e=(()=>{let e=[];return s.forEach(t=>{[...t.CIDs.map(e=>"".concat(e,"/ipfs")),eC(t)].filter(e=>!!e).forEach(t=>{e.push("".concat(t,"/").concat(ey))})}),[...new Set(e)]})(),t={};e.forEach(e=>{t[e]={status:"pending"}}),eI(t);let n=e.map(async e=>{let t=await eB(e);eI(s=>({...s,[e]:t}))});await Promise.all(n),eA(!1)},eN=async t=>{try{var s;eo(!0),eh(null);let n=new I.FR(t||ef||ex),r=await n.getNetwork();if(!((s=Number(r.chainId))===V.mainnet.chainId?(eg("mainnet"),!0):s===V.testnet.chainId?(eg("testnet"),!0):(eD("网络错误","网络 ID 为 ".concat(s,"，不支持 Base 协议"),"red"),eb(""),!1)))return;let a=new T.NZ(Z,ee,n),[i,o,l]=await a.getAllDots(),c=i.map(async(e,t)=>{let[s,n,r,i]=await a.getDot(e);return{address:e,name:s||o[t]||"节点 ".concat(t+1),APIs:n||[],CIDs:r||[],lastUpdate:Number(i||l[t])}}),d=await Promise.all(c);localStorage.setItem("dotNodes",JSON.stringify(d)),d&&e("dotNodes",d)}catch(e){console.info("获取节点列表失败:",e),eh("获取节点列表失败，请更换 RPC"),eD("获取失败","无法获取节点列表","red")}finally{eo(!1)}},eM=async()=>{ec(!0);try{let t=await Promise.all(s.map(async e=>{let{isOnline:t,responseTime:s}=await new Promise(t=>{if(!e.APIs||0===e.APIs.length)return void t({isOnline:!1,responseTime:0});let s=e.APIs[0],n=Date.now(),r=new AbortController,a=setTimeout(()=>r.abort(),2e3);fetch("".concat(s,"/api.dot"),{signal:r.signal,mode:"cors"}).then(()=>{clearTimeout(a),t({isOnline:!0,responseTime:Date.now()-n})}).catch(()=>{clearTimeout(a),t({isOnline:!1,responseTime:Date.now()-n})})});return{...e,isOnline:t,responseTime:s}}));e("dotNodes",t);let n=t.filter(e=>e.isOnline).length;eD("连通性检测完成","".concat(n,"/").concat(t.length," 个节点在线"),n>0?"green":"orange")}catch(e){console.log("连通性检测失败:",e),eD("检测失败","连通性检测过程中出现错误","red")}finally{ec(!1)}},eU=async()=>{X(!0);let e=await E(er);e&&(en(e),eD("节点切换成功",e[0],"green")),X(!1)},eY=async e=>{let t=new URL("/auth/jwt/",e.APIs[0]),s=localStorage.getItem("jwt");if(s){let e=G.A.verifyJWT(s);if(e){let s=Q()().format("YY/M/D HH:mm"),{public_key:n,private_key:r}=(0,J.BP)("auth/jwt",s),a=(0,J.yO)(JSON.stringify(e),n,r);t.searchParams.set("token",a)}}window.open(t.href)},eR=async e=>{ep(e.address);try{let t=e.APIs[0],s=await E(t);s&&(en(s),eD("节点切换成功","已切换到 ".concat(e.name),"green"))}catch(e){console.error(e),eD("切换失败","无法连接到该节点","red")}finally{ep(null)}};return(0,r.useEffect)(()=>{if(s.length>0)return void eo(!1);let t=localStorage.getItem("dotNodes");if(t)try{e("dotNodes",JSON.parse(t)),eo(!1);return}catch(e){}eN()},[]),(0,n.jsxs)(i.Container,{size:"lg",w:"100%",style:{wordBreak:"break-all"},children:[(0,n.jsx)(a.AppHeader,{title:"请选择节点"}),(0,n.jsx)(o.Box,{mb:"lg",children:(0,n.jsxs)(l.Stack,{align:"center",children:[(0,n.jsx)(c.Text,{mt:"md",children:"当前节点"}),(0,n.jsx)(d.Title,{children:ez}),(0,n.jsx)(h.Anchor,{c:"dimmed",onClick:()=>{localStorage.setItem("homeTab","explore"),window.open("/")},children:"「轻松简单、开源免费、部署自己的节点」"}),es.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Text,{children:"已成功接入"}),(0,n.jsx)(l.Stack,{justify:"center",children:es.map((e,t)=>(0,n.jsx)(h.Anchor,{component:q(),href:e,target:"_blank",lineClamp:1,children:e},t))})]}):(0,n.jsx)(h.Anchor,{component:q(),href:t,target:"_blank",children:t}),(0,n.jsxs)(m.Group,{mt:"lg",w:"100%",justify:"space-between",children:[(0,n.jsx)(p.TextInput,{flex:1,leftSection:(0,n.jsx)(C.A,{}),value:er,onChange:e=>ea(e.currentTarget.value),placeholder:"私有节点地址"}),(0,n.jsx)(u.Button,{leftSection:(0,n.jsx)(P.A,{size:16}),onClick:eU,loading:K,children:"私有节点"})]})]})}),(0,n.jsx)(o.Box,{mb:"lg",children:(0,n.jsxs)(g.Flex,{justify:"space-between",align:"center",wrap:"wrap",gap:"md",children:[(0,n.jsxs)(m.Group,{children:[(0,n.jsx)(x.ThemeIcon,{size:40,radius:"md",variant:"light",color:"blue",children:(0,n.jsx)(D.A,{size:20})}),(0,n.jsxs)(o.Box,{children:[(0,n.jsx)(d.Title,{order:2,children:"节点列表"}),(0,n.jsxs)(c.Text,{size:"sm",c:"dimmed",children:["共 ",s.length," 个节点",s.some(e=>void 0!==e.isOnline)&&(0,n.jsxs)(n.Fragment,{children:[" ","• ",eT.length," 在线 • ",eS.length," 离线"]})]})]})]}),(0,n.jsxs)(m.Group,{children:[(0,n.jsx)(f.Select,{value:eu,onChange:e=>{if(e&&("mainnet"===e||"testnet"===e)){let t=V[e].rpc;eb(t),eg(e),eN(t),S.notifications.show({title:"网络已切换",message:"已切换到 ".concat(V[e].name),color:V[e].color,icon:(0,n.jsx)(z.A,{size:16})})}},data:[{value:"testnet",label:"\uD83E\uDDEA Base 测试网"},{value:"mainnet",label:"\uD83C\uDF10 Base 主网"}],leftSection:(0,n.jsx)(z.A,{size:16}),variant:"filled",radius:"md",w:180}),(0,n.jsx)(b.Tooltip,{label:"刷新节点列表",children:(0,n.jsx)(j.ActionIcon,{size:"lg",variant:"light",color:"blue",onClick:()=>eN(),loading:ei,children:(0,n.jsx)(B.A,{size:18})})}),(0,n.jsx)(u.Button,{leftSection:(0,n.jsx)(O.A,{size:16}),onClick:eM,loading:el,disabled:0===s.length,variant:"gradient",gradient:{from:"blue",to:"cyan"},children:"检测连通性"})]})]})}),(0,n.jsxs)(m.Group,{align:"flex-end",mb:"lg",children:[(0,n.jsx)(p.TextInput,{style:{flex:1},placeholder:"输入要查询的 CID...",value:ey,onChange:e=>ew(e.currentTarget.value)}),(0,n.jsxs)(u.Button,{onClick:eO,loading:ev,disabled:!ey,children:[(0,n.jsx)(N.A,{size:16}),(0,n.jsx)(c.Text,{ml:"xs",children:"CID"})]})]}),ei?(0,n.jsxs)(y.Paper,{p:"xl",radius:"md",style:{textAlign:"center"},children:[(0,n.jsx)(x.ThemeIcon,{size:60,radius:"xl",variant:"light",color:"blue",mb:"md",children:(0,n.jsx)(D.A,{size:30})}),(0,n.jsx)(d.Title,{order:3,c:"dimmed",children:"正在加载节点列表..."}),(0,n.jsx)(c.Text,{size:"sm",c:"dimmed",mt:"xs",children:"请稍候，正在从区块链获取数据"})]}):ed?(0,n.jsxs)(y.Paper,{shadow:"sm",p:"xl",radius:"md",children:[(0,n.jsx)(w.Alert,{color:"red",title:"加载失败",icon:(0,n.jsx)(M.A,{size:16}),children:ed}),(0,n.jsx)(m.Group,{mt:"md",children:(0,n.jsx)(u.Button,{size:"sm",color:"orange",variant:"light",onClick:()=>eN(),children:"重新尝试"})})]}):0===s.length?(0,n.jsxs)(y.Paper,{shadow:"sm",p:"xl",radius:"md",style:{textAlign:"center"},children:[(0,n.jsx)(x.ThemeIcon,{size:60,radius:"xl",variant:"light",color:"gray",mb:"md",children:(0,n.jsx)(D.A,{size:30})}),(0,n.jsx)(d.Title,{order:3,c:"dimmed",mb:"xs",children:"暂无节点"}),(0,n.jsx)(c.Text,{size:"sm",c:"dimmed",children:"当前网络没有注册的节点"})]}):(0,n.jsx)(g.Flex,{wrap:"wrap",gap:"md",children:s.map((e,t)=>{var s;let r;return(0,n.jsxs)(v.Card,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,maw:"100%",w:358,style:{transition:"transform 0.2s ease, box-shadow 0.2s ease",border:eP(e)?"2px solid #228be6":void 0},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.1)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow=""},children:[(0,n.jsxs)(m.Group,{justify:"space-between",mb:"md",children:[(0,n.jsxs)(m.Group,{children:[(0,n.jsx)(x.ThemeIcon,{size:36,radius:"md",variant:"light",color:e.isOnline?"green":!1===e.isOnline?"red":"gray",children:e.isOnline?(0,n.jsx)(O.A,{size:18}):!1===e.isOnline?(0,n.jsx)(U.A,{size:18}):(0,n.jsx)(D.A,{size:18})}),(0,n.jsxs)(o.Box,{children:[(0,n.jsxs)(m.Group,{gap:"xs",children:[(0,n.jsx)(c.Text,{fw:600,size:"md",lineClamp:1,children:e.name}),eP(e)&&(0,n.jsx)(A.Badge,{size:"xs",color:"blue",variant:"filled",children:"当前"})]}),(0,n.jsxs)(c.Text,{size:"xs",c:"dimmed",children:["节点地址 ",eu.slice(0,1).toUpperCase(),t+1]})]})]}),void 0!==e.isOnline&&(0,n.jsxs)(A.Badge,{color:e.isOnline?"green":"red",variant:"light",leftSection:e.isOnline?(0,n.jsx)(Y.A,{size:12}):(0,n.jsx)(M.A,{size:12}),children:[e.isOnline?"在线":"离线",void 0!==e.responseTime&&" (".concat(void 0===(r=e.responseTime)?"":"".concat(r,"ms"),")")]})]}),(0,n.jsx)(k.Divider,{mb:"md"}),(0,n.jsxs)(l.Stack,{justify:"space-between",flex:1,children:[(0,n.jsxs)(l.Stack,{gap:"sm",children:[(0,n.jsxs)(m.Group,{gap:"xs",wrap:"nowrap",children:[(0,n.jsx)(R.A,{size:14,color:"gray",style:{flexShrink:0}}),(0,n.jsxs)(c.Text,{size:"xs",c:"dimmed",children:[G.A.formatAddress(e.address)," ",(0,n.jsx)(h.Anchor,{component:q(),href:{pathname:"/dot/deploy",query:{address:e.address,api:e.APIs[0]}},c:"dimmed",children:"Deploy"})]})]}),(0,n.jsxs)(m.Group,{gap:"xs",children:[(0,n.jsx)(L.A,{size:14,color:"gray"}),(0,n.jsx)(c.Text,{size:"xs",c:"dimmed",children:(s=e.lastUpdate)?new Date(1e3*s).toLocaleString("zh-CN"):"未知"})]}),e.APIs.length>0&&(0,n.jsx)(l.Stack,{gap:2,align:"flex-start",children:e.APIs.map((e,t)=>(0,n.jsx)(h.Anchor,{c:"blue",component:q(),href:e,target:"_blank",lineClamp:1,children:e},t))}),(0,n.jsxs)(o.Box,{children:[(0,n.jsx)(c.Text,{size:"xs",fw:500,mb:4,c:"gray",children:"IPFS 网关"}),(0,n.jsx)(l.Stack,{gap:"xs",align:"flex-start",children:[...e.CIDs.map(e=>"".concat(e,"/ipfs")),eC(e)].filter(e=>!!e).map((e,t)=>{let s=ey?"".concat(e,"/").concat(ey):e,r=ek[s];return(0,n.jsxs)(l.Stack,{gap:"xs",children:[(0,n.jsx)(h.Anchor,{component:q(),c:"blue",href:s,target:"_blank",lineClamp:1,children:s}),(0,n.jsxs)(A.Badge,{flex:1,size:"sm",color:(null==r?void 0:r.status)==="success"?"green":"gray",variant:"light",children:[(null==r?void 0:r.status)||"CID",(null==r?void 0:r.responseTime)!=null&&" (".concat(null==r?void 0:r.responseTime,"ms)")]})]},t)})})]})]}),(0,n.jsxs)(m.Group,{children:[(0,n.jsx)(u.Button,{flex:1,variant:"light",color:"blue",leftSection:(0,n.jsx)(_.A,{size:16}),onClick:()=>eY(e),children:"打开节点"}),(0,n.jsx)(u.Button,{flex:1,variant:eP(e)?"filled":"light",color:eP(e)?"green":"blue",leftSection:(0,n.jsx)(W.A,{size:16}),onClick:()=>eR(e),loading:em===e.address,disabled:!!(!e.APIs.length||"https:"===location.protocol&&e.APIs[0].startsWith("http:"))||eP(e),children:eP(e)?"当前节点":"选择节点"})]})]})]},e.address)})}),(0,n.jsxs)(m.Group,{mt:"lg",gap:"xs",justify:"space-between",children:[(0,n.jsx)(u.Button,{size:"sm",color:"yellow",variant:"light",onClick:()=>eb($()),children:"更换 RPC"}),(0,n.jsx)(p.TextInput,{size:"sm",flex:1,leftSection:(0,n.jsx)(D.A,{size:16}),value:ef,onChange:e=>eb(e.currentTarget.value),placeholder:"自定义 RPC"}),(0,n.jsx)(b.Tooltip,{label:"刷新节点列表",children:(0,n.jsx)(j.ActionIcon,{size:"lg",variant:"light",color:"blue",onClick:()=>eN(),loading:ei,children:(0,n.jsx)(B.A,{size:18})})})]}),(0,n.jsxs)(m.Group,{gap:"xs",mt:"lg",justify:"center",children:[(0,n.jsx)(h.Anchor,{size:"sm",c:"blue",component:q(),href:"https://docs.base.org/chain/connecting-to-base",target:"_blank",children:"官方 RPC"}),(0,n.jsx)(h.Anchor,{size:"sm",c:"blue",component:q(),href:"https://chainlist.org/chain/8453",target:"_blank",children:"主网 RPC"}),(0,n.jsx)(h.Anchor,{size:"sm",c:"blue",component:q(),href:"https://docs.base.org/chain/network-faucets",target:"_blank",children:"水龙头列表"}),(0,n.jsx)(h.Anchor,{size:"sm",c:"blue",component:q(),href:"https://portal.cdp.coinbase.com/products/faucet?projectId=0b869244-5000-43dd-8aba-c9feee07f6ab",target:"_blank",children:"注册领水"}),(0,n.jsx)(h.Anchor,{size:"sm",c:"blue",component:q(),href:ej+"/address/"+Z,target:"_blank",children:"合约地址"})]})]})}}},e=>{e.O(0,[8198,2545,4771,8805,8413,6634,3722,3464,2996,4726,3187,7361,6874,1697,6065,9117,5707,630,8441,5964,7358],()=>e(e.s=76889)),_N_E=e.O()}]);