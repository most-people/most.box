(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6566],{7248:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});var s=r(35695),a=r(48764);let n=()=>{let e=(0,a.k)(e=>e.firstPath),t=(0,a.k)(e=>e.setItem),r=(0,s.useRouter)(),n=(0,s.usePathname)();return()=>{e===n?(t("firstPath","/"),r.replace("/")):r.back()}}},22976:()=>{},54205:(e,t,r)=>{"use strict";r.d(t,{AF:()=>a,FH:()=>n});var s=r(23464);let a="https://cid.most.red",n=s.A.create({baseURL:"https://dot.most.red"});n.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=t),e},e=>Promise.reject(e))},76889:(e,t,r)=>{Promise.resolve().then(r.bind(r,91752))},80630:(e,t,r)=>{"use strict";r.d(t,{AppHeader:()=>c});var s=r(95155),a=r(70112),n=r(81001),l=r(58887),i=r(30578),o=r(7248);let c=e=>{let{title:t,right:r}=e,c=(0,o.h)();return(0,s.jsxs)(a.Group,{className:"app-header",children:[(0,s.jsx)(n.ActionIcon,{variant:"transparent",onClick:c,color:"--text-color",children:(0,s.jsx)(i.I,{name:"back",size:24})}),(0,s.jsx)(l.Text,{lineClamp:2,variant:"gradient",children:t}),r||(0,s.jsx)(n.ActionIcon,{variant:"transparent",color:"--text-color",children:(0,s.jsx)(i.I,{name:"more",size:24})})]})}},91752:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var s=r(95155),a=r(12115),n=r(80630),l=r(69604),i=r(70112),o=r(8593),c=r(26903),d=r(54205);r(22976);var u=r(6874),h=r.n(u),p=r(33686),x=r(6942);function j(){let[e,t]=(0,a.useState)(!1),[r,u]=(0,a.useState)({url:""}),[j,m]=(0,a.useState)(d.FH.defaults.baseURL),f=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{let t=await (0,d.FH)(j+"/ipv6");u(t.data),e||(d.FH.defaults.baseURL=j,x.notifications.show({title:"节点已切换",message:j,color:"green"}))}catch(e){x.notifications.show({title:"节点未切换",message:j,color:"red"}),console.error(e),m(d.FH.defaults.baseURL)}},v=async()=>{t(!0),await f(),t(!1)};return(0,a.useEffect)(()=>{f(!0)},[]),(0,s.jsxs)(l.Box,{id:"page-dot",children:[(0,s.jsx)(n.AppHeader,{title:"DOT.MOST.BOX"}),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("div",{className:"emoji",children:"\uD83C\uDF89"}),(0,s.jsx)("h1",{children:"DOT.MOST.BOX"}),r.url&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:"节点已成功运行"}),(0,s.jsx)("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",children:r.url})]}),(0,s.jsx)("p",{children:"為 全 人 類 徹 底 解 放 奮 鬥 終 身"}),(0,s.jsx)(h(),{href:"/dot/files",children:"查看我的文件"}),(0,s.jsxs)(i.Group,{mt:"sm",children:[(0,s.jsx)(o.TextInput,{leftSection:(0,s.jsx)(p.A,{}),value:j,onChange:e=>m(e.currentTarget.value),placeholder:"输入节点地址"}),(0,s.jsx)(c.Button,{onClick:v,loading:e,children:"更新"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[9803,8161,7725,7244,8127,8859,9421,8441,2721,7358],()=>t(76889)),_N_E=e.O()}]);