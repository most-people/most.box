(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6566],{7248:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});var s=r(35695),a=r(48764);let n=()=>{let e=(0,a.k)(e=>e.firstPath),t=(0,a.k)(e=>e.setItem),r=(0,s.useRouter)(),n=(0,s.usePathname)();return()=>{e===n?(t("firstPath","/"),r.replace("/")):r.back()}}},22976:()=>{},76889:(e,t,r)=>{Promise.resolve().then(r.bind(r,91752))},80630:(e,t,r)=>{"use strict";r.d(t,{AppHeader:()=>o});var s=r(95155),a=r(70112),n=r(81001),i=r(58887),l=r(30578),c=r(7248);let o=e=>{let{title:t,right:r}=e,o=(0,c.h)();return(0,s.jsxs)(a.Group,{className:"app-header",children:[(0,s.jsx)(n.ActionIcon,{variant:"transparent",onClick:o,color:"--text-color",children:(0,s.jsx)(l.I,{name:"back",size:24})}),(0,s.jsx)(i.Text,{lineClamp:2,variant:"gradient",children:t}),r||(0,s.jsx)(n.ActionIcon,{variant:"transparent",color:"--text-color",children:(0,s.jsx)(l.I,{name:"more",size:24})})]})}},91752:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(95155),a=r(12115),n=r(80630),i=r(69604),l=r(21220),c=r(70112),o=r(8593),d=r(26903),h=r(54205);r(22976);var u=r(6874),x=r.n(u),j=r(33686),p=r(6942),f=r(48764);function m(){let[e,t]=(0,a.useState)(!1),[r,u]=(0,a.useState)([]),m=(0,f.k)(e=>e.dotAPI),v=(0,f.k)(e=>e.setItem),g=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new URL(m).origin;try{let r=await (0,h.FH)(t+"/ipv6");u(r.data),e||(h.FH.defaults.baseURL=t,v("dotAPI",t),localStorage.dotAPI=t,p.notifications.show({title:"节点已切换",message:t,color:"green"}))}catch(e){p.notifications.show({title:"节点未切换",message:t,color:"red"}),console.error(e),v("dotAPI",h.FH.defaults.baseURL||"")}},k=async()=>{t(!0),await g(),t(!1)};return(0,a.useEffect)(()=>{g(!0)},[]),(0,s.jsxs)(i.Box,{id:"page-dot",children:[(0,s.jsx)(n.AppHeader,{title:"节点"}),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("div",{className:"emoji",children:"\uD83C\uDF89"}),(0,s.jsx)("h1",{children:"DOT.MOST.BOX"}),r.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:"节点已成功运行"}),(0,s.jsx)(l.Stack,{justify:"center",children:r.map((e,t)=>(0,s.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:e},t))})]}),(0,s.jsx)("p",{children:"為 全 人 類 徹 底 解 放 奮 鬥 終 身"}),(0,s.jsx)(x(),{href:"/dot/files",children:"查看我的文件"}),(0,s.jsxs)(c.Group,{mt:"sm",justify:"center",children:[(0,s.jsx)(o.TextInput,{leftSection:(0,s.jsx)(j.A,{}),value:m,onChange:e=>v("dotAPI",e.currentTarget.value),placeholder:"输入节点地址"}),(0,s.jsx)(d.Button,{onClick:k,loading:e,children:"更新"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[9803,9388,9816,7244,3388,9421,8441,2721,7358],()=>t(76889)),_N_E=e.O()}]);