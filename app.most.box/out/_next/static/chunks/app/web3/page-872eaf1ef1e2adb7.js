(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8924],{13297:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var a=n(97443),s=n(25959),r=n(21794),i=n(59126);let o=(0,s.v)((e,t)=>({wallet:void 0,initWallet(n){e({fingerprint:n});let s=localStorage.getItem("jwt");if(s)try{let t=a.A.verifyJWT(s);t&&(a.A.createToken(t),e({wallet:t}))}catch(e){i.notifications.show({message:"登录过期",color:"red"}),console.warn("登录过期",e),t().exit()}},async updateDot(t){try{let n=new URL(t).origin,a=(await r.FH.get("/api.dot",{baseURL:n})).data;r.FH.defaults.baseURL=n,e({dotAPI:n}),localStorage.setItem("dotAPI",n);let s=a.CIDs[0];return n.endsWith(":1976")&&(s=n.slice(0,-5)+":8080"),s&&(e({dotCID:s}),localStorage.setItem("dotCID",s)),e({notes:void 0,files:void 0}),a.APIs}catch(t){i.notifications.show({message:"节点不可用",color:"red"}),console.info(t),e({dotAPI:r.FH.defaults.baseURL||""})}return null},setItem:(t,n)=>e(e=>({...e,[t]:n})),firstPath:"",dotAPI:"",dotCID:"",dotNodes:[],notes:void 0,notesQuery:"",nodeDark:"",files:void 0,filesPath:"",fingerprint:"",exit(){e({wallet:void 0,notes:void 0,files:void 0}),console.log("\uD83C\uDF0A",localStorage),localStorage.removeItem("jwt"),localStorage.removeItem("token")}}))},21794:(e,t,n)=>{"use strict";n.d(t,{C2:()=>s,FH:()=>r});var a=n(95125);let s="https://most.box/auth/callback",r=a.A.create({baseURL:""});r.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=t),e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>Promise.reject(e))},25959:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var a=n(12115);let s=e=>{let t,n=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),n.forEach(n=>n(t,e))}},s=()=>t,r={setState:a,getState:s,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e))},i=t=e(a,s,r);return r},r=e=>{let t=(e=>e?s(e):s)(e),n=e=>(function(e,t=e=>e){let n=a.useSyncExternalStore(e.subscribe,a.useCallback(()=>t(e.getState()),[e,t]),a.useCallback(()=>t(e.getInitialState()),[e,t]));return a.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},i=e=>e?r(e):r},30313:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(12115),s={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};let r=(e,t,n,r)=>{let i=(0,a.forwardRef)((n,i)=>{let{color:o="currentColor",size:l=24,stroke:d=2,title:c,className:p,children:u,...m}=n;return(0,a.createElement)("svg",{ref:i,...s[e],width:l,height:l,className:["tabler-icon","tabler-icon-".concat(t),p].join(" "),..."filled"===e?{fill:o}:{strokeWidth:d,stroke:o},...m},[c&&(0,a.createElement)("title",{key:"svg-title"},c),...r.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...Array.isArray(u)?u:[u]])});return i.displayName="".concat(n),i}},53987:(e,t,n)=>{"use strict";n.d(t,{Wf:()=>d,yc:()=>c,MT:()=>r,i5:()=>i,WC:()=>l,Pt:()=>o});let a=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"string","name":"oldData","type":"string"},{"indexed":false,"internalType":"string","name":"newData","type":"string"}],"name":"DataSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"string","name":"oldName","type":"string"},{"indexed":false,"internalType":"string","name":"newName","type":"string"}],"name":"NameSet","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"Data","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MAX_NAME_LENGTH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MIN_NAME_LENGTH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deleteData","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"deleteName","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getData","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getName","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"}],"name":"getOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"nameOwners","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"names","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_data","type":"string"}],"name":"setData","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_newName","type":"string"}],"name":"setName","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),s=["https://base.llamarpc.com","https://mainnet.base.org","https://developer-access-mainnet.base.org","https://base-mainnet.diamondswap.org/rpc","https://base.public.blockpi.network/v1/rpc/public","https://1rpc.io/base","https://base-pokt.nodies.app","https://base.meowrpc.com","https://base-mainnet.public.blastapi.io","https://base.gateway.tenderly.co","https://gateway.tenderly.co/public/base","https://rpc.notadegen.com/base","https://base-rpc.publicnode.com","https://base.drpc.org","https://base.api.onfinality.io/public","https://public.stackup.sh/api/v1/node/base-mainnet","https://base-mainnet.gateway.tatum.io","https://base.rpc.subquery.network/public","https://api.zan.top/base-mainnet","https://endpoints.omniatech.io/v1/base/mainnet/public","https://base.lava.build","https://rpc.numa.network/base","https://node.histori.xyz/base-mainnet/8ry9f6t9dct1se2hlagxnd9n2a","https://0xrpc.io/base","https://rpc.owlracle.info/base/70d38ce1826c4a60bb2a8e05a6c8b20f","https://base.therpc.io"],r="0xB67662F0d2BB106B055503062e1dba4f072f5781",i="0x15b28F5a471215221f4f28Fe9E2B7ac576278b81",o=()=>s[Math.floor(Math.random()*s.length)],l={mainnet:{chainId:8453,rpc:"https://mainnet.base.org",name:"Base 主网",color:"blue",explorer:"https://basescan.org"},testnet:{chainId:84532,rpc:"https://sepolia.base.org",name:"Base 测试网",color:"orange",explorer:"https://sepolia.basescan.org"}},d=[{inputs:[],name:"getAllDots",outputs:[{internalType:"address[]",name:"addresses",type:"address[]"},{internalType:"string[]",name:"names",type:"string[]"},{internalType:"string[][]",name:"APIss",type:"string[][]"},{internalType:"string[][]",name:"CIDss",type:"string[][]"},{internalType:"uint256[]",name:"updates",type:"uint256[]"}],stateMutability:"view",type:"function"}],c=a},56612:(e,t,n)=>{"use strict";n.d(t,{BP:()=>u,OM:()=>y,yO:()=>m});var a=n(68110),s=n(330),r=n(16405),i=n(42779),o=n(10179),l=n(38798),d=n(43591),c=n(28555),p=n.n(c);let u=(e,t,n)=>{let d=(0,a.YW)(t),c=(0,a.YW)("/most.box/"+e),u=(0,s.A)(d,c,3,32,"sha512"),m=(0,r.q5)((0,i.s)(u)),y=m.slice(0,32),h=p().box.keyPair.fromSecretKey(y),g=(0,r.c$)(h.publicKey),f=(0,r.c$)(h.secretKey),b=o.v.entropyToPhrase(m);return{username:e,address:l.QX.fromPhrase(b).address,public_key:g,private_key:f,mnemonic:"I know loss mnemonic will lose my wallet."===n?b:""}},m=(e,t,n)=>{let a=new TextEncoder().encode(e),s=p().randomBytes(p().box.nonceLength),i=p().box(a,s,new Uint8Array((0,r.q5)(t)),new Uint8Array((0,r.q5)(n)));return i?["mp://2",(0,d.W)(s),(0,d.W)(i)].join("."):(console.info("加密失败"),"")},y=(e,t,n)=>{let[a,s,i]=e.split(".");if("mp://2"!==a)return console.info("无效协议"),"";let o=p().box.open((0,d.y)(i),(0,d.y)(s),new Uint8Array((0,r.q5)(t)),new Uint8Array((0,r.q5)(n)));return o?new TextDecoder().decode(o):(console.info("无法解密"),"")}},71165:(e,t,n)=>{"use strict";n.d(t,{Divider:()=>y});var a=n(95155);n(12115);var s=n(49957),r=n(80533),i=n(26225),o=n(23653),l=n(39398),d=n(67623),c=n(91853),p={root:"m_3eebeb36",label:"m_9e365f20"};let u={orientation:"horizontal"},m=(0,r.createVarsResolver)((e,t)=>{let{color:n,variant:a,size:r}=t;return{root:{"--divider-color":n?(0,i.getThemeColor)(n,e):void 0,"--divider-border-style":a,"--divider-size":(0,s.getSize)(r,"divider-size")}}}),y=(0,c.factory)((e,t)=>{let n=(0,o.useProps)("Divider",u,e),{classNames:s,className:r,style:i,styles:c,unstyled:y,vars:h,color:g,orientation:f,label:b,labelPosition:w,mod:v,attributes:x,...T}=n,j=(0,l.useStyles)({name:"Divider",classes:p,props:n,className:r,style:i,classNames:s,styles:c,unstyled:y,attributes:x,vars:h,varsResolver:m});return(0,a.jsx)(d.Box,{ref:t,mod:[{orientation:f,"with-label":!!b},v],...j("root"),...T,role:"separator",children:b&&(0,a.jsx)(d.Box,{component:"span",mod:{position:w},...j("label"),children:b})})});y.classes=p,y.displayName="@mantine/core/Divider"},71281:()=>{},78407:(e,t,n)=>{Promise.resolve().then(n.bind(n,86699))},86699:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var a=n(95155),s=n(12115),r=n(13877),i=n(2369),o=n(70305),l=n(77147),d=n(67661),c=n(58380),p=n(71165),u=n(13297),m=n(90101),y=n(30313);let h=(0,y.A)("outline","eye","Eye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]),g=(0,y.A)("outline","eye-off","EyeOff",[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]]);var f=n(52619),b=n.n(f),w=n(97443),v=n(53987),x=n(81216),T=n(76476);function j(){let e=(0,u.k)(e=>e.wallet),[t,n]=(0,s.useState)(!1),[y,f]=(0,s.useState)("-");return(0,s.useEffect)(()=>{if(e){let t=v.WC.mainnet.rpc;new x.FR(t).getBalance(e.address).then(e=>{f((0,T.ck)(e))})}},[e]),(0,a.jsxs)(r.Container,{py:20,children:[(0,a.jsx)(m.AppHeader,{title:"Web3"}),(0,a.jsxs)(i.Stack,{gap:"md",children:[(0,a.jsx)(o.Text,{size:"lg",fw:500,children:"Web3"}),(0,a.jsx)(o.Text,{children:"旨在重塑互联网生态，将用户的控制权和数据所有权还给个人，推动更加公平和透明的人类社会发展。"}),(0,a.jsx)(l.Anchor,{component:b(),href:"/web3/tools",children:(0,a.jsx)(o.Text,{children:"导出钱包"})}),(0,a.jsx)(o.Text,{size:"lg",fw:500,children:"ETH 地址"}),(0,a.jsxs)(d.Group,{children:[(0,a.jsx)(o.Text,{children:(null==e?void 0:e.address)||"-"}),(0,a.jsx)(l.Anchor,{href:"https://basescan.org/address/".concat(null==e?void 0:e.address),target:"_blank",children:"查看"})]}),(0,a.jsx)(o.Text,{size:"lg",fw:500,children:"余额"}),(0,a.jsxs)(o.Text,{children:[y," Base ETH"]}),(0,a.jsx)(o.Text,{size:"lg",fw:500,children:"x25519 公钥"}),(0,a.jsx)(o.Text,{children:(null==e?void 0:e.public_key)||"-"}),(0,a.jsxs)(d.Group,{align:"center",gap:"xs",children:[(0,a.jsx)(o.Text,{size:"lg",fw:500,children:"x25519 私钥"}),(0,a.jsx)(c.ActionIcon,{variant:"subtle",size:"sm",ml:"xs",onClick:()=>n(!t),children:t?(0,a.jsx)(h,{size:16}):(0,a.jsx)(g,{size:16})})]}),(0,a.jsx)(o.Text,{children:t&&(null==e?void 0:e.private_key)||"-"}),(0,a.jsx)(p.Divider,{my:"md"}),(0,a.jsx)(l.Anchor,{component:b(),href:"/web3/ethers",children:(0,a.jsx)(o.Text,{children:"Ethers"})}),(0,a.jsx)(o.Text,{children:w.A.formatTime(Date.now())})]})]})}},97443:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var a=n(43591),s=n(68110),r=n(38798),i=n(82127),o=n(34477),l=n(55544),d=n(85179),c=n(56612),p=n(86710),u=n(36117),m=n.n(u),y=n(44839),h=n.n(y);n(28223);var g=n(78595),f=n.n(g);m().extend(f()),m().extend(h()),m().locale("zh-cn");let b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYYMM",n=m()().isoWeek(),a=m()().format(t)+n,s=sessionStorage.getItem("fingerprint");if(!s)throw Error("请先获取设备指纹");let r=[location.origin,s].join("/"),{public_key:i,private_key:o}=(0,c.BP)(a,r);return(0,c.yO)(JSON.stringify(e),i,o)},w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYYMM",n=m()().isoWeek(),a=m()().format(t)+n,s=sessionStorage.getItem("fingerprint");if(!s)throw Error("请先获取设备指纹");let r=[location.origin,s].join("/"),{public_key:i,private_key:o}=(0,c.BP)(a,r),l=(0,c.OM)(e,i,o);if(!l)throw Error("jwt 解析失败");let d=JSON.parse(l);if(!d.address)throw Error("jwt json 解析失败");return d},v=async e=>{let t=Date.now().toString(),n=r.QX.fromPhrase(e.mnemonic),a=await n.signMessage(t);localStorage.token=[e.address,t,a].join(".")},x=e=>{try{var t;let n=b(e);if((null==(t=w(n))?void 0:t.address)===e.address)return localStorage.setItem("jwt",n),v(e),e}catch(e){console.log("登录失败:",e)}return null},T={avatar:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Most";return(0,o.gn)(l,{seed:"most.box@"+e,flip:!0,backgroundType:["gradientLinear"]}).toDataUri()},avatarCID:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Most";return(0,o.gn)(d,{seed:"most.box#"+e,flip:!0,backgroundType:["gradientLinear","solid"]}).toDataUri()},formatTime:e=>{let t;if(!e)return"";let n=m()(Number(e)),a=n.hour();return t=a>=0&&a<3?"凌晨":a>=3&&a<6?"拂晓":a>=6&&a<9?"早晨":a>=9&&a<12?"上午":a>=12&&a<15?"下午":a>=15&&a<18?"傍晚":a>=18&&a<21?"薄暮":"深夜",n.format("YYYY年M月D日 ".concat(t,"h点m分"))},formatDate:e=>{let t=m()(Number(e)),n=m()();if(t.isSame(n,"minute"))return t.format("HH:mm:ss");if(t.isSame(n,"day"))return t.format("HH:mm");if(t.isSame(n.subtract(1,"day"),"day"))return"昨天 ".concat(t.format("HH:mm"));if(t.isoWeek()===n.isoWeek())return"".concat(["周日","周一","周二","周三","周四","周五","周六"][t.day()]," ").concat(t.format("HH:mm"));if(t.year()===n.year())return t.format("M月D日");else return t.format("YY年M月D日")},formatAddress:e=>e?e.slice(0,6)+"..."+e.slice(-4):"",enBase64:e=>(0,a.W)((0,s.YW)(e)),deBase64:e=>(0,s._v)((0,a.y)(e)),createJWT:b,verifyJWT:w,login:(e,t)=>x((0,c.BP)(e,t,"I know loss mnemonic will lose my wallet.")),loginSave:x,ZeroAddress:i.j,createToken:v,pinyin:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(t.length<n)return!1;if(e.toLowerCase().includes(t.toLowerCase()))return!0;let a=(0,p.YW)(e,t,{continuous:!0});return!!a&&!!(a.length>=n)},openDot:e=>{let t=new URL("/auth/jwt/",e),n=localStorage.getItem("jwt");if(n){let e=T.verifyJWT(n);if(e){let n=m()().format("YY/M/D HH:mm"),{public_key:a,private_key:s}=(0,c.BP)("auth/jwt",n),r=(0,c.yO)(JSON.stringify(e),a,s);t.searchParams.set("token",r)}}window.open(t.href)}},j=T}},e=>{e.O(0,[8198,2829,5619,8798,8555,8990,5125,3252,8835,6654,101,8441,1255,7358],()=>e(e.s=78407)),_N_E=e.O()}]);