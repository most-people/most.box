(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1274,6961],{13297:(e,t,n)=>{"use strict";n.d(t,{k:()=>m});var r=n(56612),a=n(25959),i=n(59126),s=n(53987),o=n(21794),l=n(81216),u=n(38798),c=n(41524),d=n(76476),p=n(29311);let m=(0,a.v)((e,t)=>({wallet:void 0,setWallet(n){e({wallet:n});let{initRootCID:r,initBalance:a}=t();r(),a()},firstPath:"",notes:void 0,notesQuery:"",nodeDark:"",files:void 0,filesPath:"",fingerprint:"",exit(){e({wallet:void 0,notes:void 0,files:void 0}),localStorage.removeItem("jwt"),localStorage.removeItem("token")},rootCID:"",async updateRootCID(){let{wallet:n}=t();if(n){let{RPC:t}=p.E.getState(),a=new l.FR(t),i=u.QX.fromPhrase(n.mnemonic).connect(a),d=new c.NZ(s.i5,s.yc,i),[m,y]=await Promise.all([o.FH.post("/files.cid"),d.getCID(n.address)]),g=m.data,f=(0,r.OM)(y,n.public_key,n.private_key);if(g&&g!==f){let t=(0,r.yO)(g,n.public_key,n.private_key),a=await d.setCID(t);await a.wait(),e({rootCID:g})}}},async initRootCID(){let{wallet:n}=t();if(!n)return console.log("未登录");let{RPC:a}=p.E.getState(),u=new l.FR(a),d=new c.NZ(s.i5,s.yc,u),[m,y]=await Promise.all([o.FH.post("/files.cid"),d.getCID(n.address)]),g=m.data,f=(0,r.OM)(y,n.public_key,n.private_key);f&&(f===g||(await o.FH.put("/files.import/".concat(f))).data.ok?e({rootCID:f}):i.notifications.show({message:"根目录 CID 导入失败",color:"red"}))},balance:"",async initBalance(){let{wallet:n}=t();if(!n)return console.log("未登录");let{RPC:r}=p.E.getState(),a=new l.FR(r),i=await a.getBalance(n.address);e({balance:(0,d.ck)(i)}),0===Number(i)&&o.FH.post("/api.testnet.gas")},setItem:(t,n)=>e(e=>({...e,[t]:n}))}))},21794:(e,t,n)=>{"use strict";n.d(t,{C2:()=>a,FH:()=>i});var r=n(95125);let a="https://most.box/auth/callback",i=r.A.create({baseURL:""});i.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=t),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>Promise.reject(e))},23538:(e,t,n)=>{Promise.resolve().then(n.bind(n,99777))},25959:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var r=n(12115);let a=e=>{let t,n=new Set,r=(e,r)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,i={setState:r,getState:a,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e))},s=t=e(r,a,i);return i},i=e=>{let t=(e=>e?a(e):a)(e),n=e=>(function(e,t=e=>e){let n=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>t(e.getState()),[e,t]),r.useCallback(()=>t(e.getInitialState()),[e,t]));return r.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},s=e=>e?i(e):i},29311:(e,t,n)=>{"use strict";n.d(t,{E:()=>u,P:()=>l});var r=n(25959),a=n(53987),i=n(21794),s=n(81216),o=n(41524);let l=e=>new Promise(t=>{if(!e.APIs||0===e.APIs.length)return void t({isOnline:!1,responseTime:0});let n=e.APIs[0],r=Date.now(),a=new AbortController,i=setTimeout(()=>a.abort(),2e3);fetch("".concat(n,"/api.dot"),{signal:a.signal,mode:"cors"}).then(()=>{clearTimeout(i),t({isOnline:!0,responseTime:Date.now()-r})}).catch(()=>{clearTimeout(i),t({isOnline:!1,responseTime:Date.now()-r})})}),u=(0,r.v)((e,t)=>({dotAPI:"",dotCID:"",dotNodes:[],fetchNodes:async e=>{let{RPC:n}=t(),r=new s.FR(e||n),i=new o.NZ(a.MT,a.Wf,r),[l,u,c,d,p]=await i.getAllDots();return l.map((e,t)=>({address:e,name:u[t]||"节点 ".concat(t+1),APIs:c[t]||[],CIDs:d[t]||[],lastUpdate:Number(p[t])}))},async updateDot(t){try{let n=new URL(t).origin,r=(await i.FH.get("/api.dot",{baseURL:n})).data;i.FH.defaults.baseURL=n,e({dotAPI:n}),localStorage.setItem("dotAPI",n);let a=r.CIDs[0];return n.endsWith(":1976")&&(a=n.slice(0,-5)+":8080"),a&&(e({dotCID:a}),localStorage.setItem("dotCID",a)),r.APIs}catch(t){console.info(t),e({dotAPI:i.FH.defaults.baseURL||""})}return null},network:"testnet",RPC:a.WC.testnet.rpc,Explorer:a.WC.testnet.explorer,setNetwork(t){let n=a.WC[t];e({network:t,RPC:n.rpc,Explorer:n.explorer}),localStorage.setItem("network",t)},setItem:(t,n)=>e(e=>({...e,[t]:n}))}))},40387:(e,t,n)=>{"use strict";n.d(t,{Center:()=>u});var r=n(95155);n(12115);var a=n(23653),i=n(39398),s=n(67623),o=n(24454),l={root:"m_4451eb3a"};let u=(0,o.polymorphicFactory)((e,t)=>{let n=(0,a.useProps)("Center",null,e),{classNames:o,className:u,style:c,styles:d,unstyled:p,vars:m,inline:y,mod:g,attributes:f,...h}=n,b=(0,i.useStyles)({name:"Center",props:n,classes:l,className:u,style:c,classNames:o,styles:d,unstyled:p,attributes:f,vars:m});return(0,r.jsx)(s.Box,{ref:t,mod:[{inline:y},g],...b("root"),...h})});u.classes=l,u.displayName="@mantine/core/Center"},53987:(e,t,n)=>{"use strict";n.d(t,{Wf:()=>o,yc:()=>l,MT:()=>a,i5:()=>i,WC:()=>s});let r=JSON.parse('[{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"CIDs","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"Data","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"delCID","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"delData","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"delName","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getCID","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getData","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getName","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"}],"name":"getOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"nameOwners","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"names","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_cid","type":"string"}],"name":"setCID","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_data","type":"string"}],"name":"setData","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_newName","type":"string"}],"name":"setName","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),a="0xB67662F0d2BB106B055503062e1dba4f072f5781",i="0x8F175B89C1A5Bb27f050FC88F0894d684A45f299",s={mainnet:{chainId:8453,rpc:"https://mainnet.base.org",name:"Base 主网",color:"blue",explorer:"https://basescan.org",RPCs:["https://base.llamarpc.com","https://mainnet.base.org","https://developer-access-mainnet.base.org","https://base-mainnet.diamondswap.org/rpc","https://base.public.blockpi.network/v1/rpc/public","https://1rpc.io/base","https://base-pokt.nodies.app","https://base.meowrpc.com","https://base-mainnet.public.blastapi.io","https://base.gateway.tenderly.co","https://gateway.tenderly.co/public/base","https://rpc.notadegen.com/base","https://base-rpc.publicnode.com","https://base.drpc.org","https://base.api.onfinality.io/public","https://public.stackup.sh/api/v1/node/base-mainnet","https://base-mainnet.gateway.tatum.io","https://base.rpc.subquery.network/public","https://api.zan.top/base-mainnet","https://endpoints.omniatech.io/v1/base/mainnet/public","https://base.lava.build","https://rpc.numa.network/base","https://node.histori.xyz/base-mainnet/8ry9f6t9dct1se2hlagxnd9n2a","https://0xrpc.io/base","https://rpc.owlracle.info/base/70d38ce1826c4a60bb2a8e05a6c8b20f","https://base.therpc.io"]},testnet:{chainId:84532,rpc:"https://sepolia.base.org",name:"Base 测试网",color:"orange",explorer:"https://sepolia.basescan.org",RPCs:["https://base-sepolia.gateway.tenderly.co","https://base-sepolia.drpc.org","https://base-sepolia-public.nodies.app","https://base-sepolia.therpc.io","https://base-sepolia.api.onfinality.io/public","https://sepolia.base.org","https://base-sepolia-rpc.publicnode.com"]}},o=[{inputs:[],name:"getAllDots",outputs:[{internalType:"address[]",name:"addresses",type:"address[]"},{internalType:"string[]",name:"names",type:"string[]"},{internalType:"string[][]",name:"APIss",type:"string[][]"},{internalType:"string[][]",name:"CIDss",type:"string[][]"},{internalType:"uint256[]",name:"updates",type:"uint256[]"}],stateMutability:"view",type:"function"}],l=r},56612:(e,t,n)=>{"use strict";n.d(t,{BP:()=>p,OM:()=>y,yO:()=>m});var r=n(68110),a=n(330),i=n(16405),s=n(42779),o=n(10179),l=n(38798),u=n(43591),c=n(28555),d=n.n(c);let p=(e,t,n)=>{let u=(0,r.YW)(t),c=(0,r.YW)("/most.box/"+e),p=(0,a.A)(u,c,3,32,"sha512"),m=(0,i.q5)((0,s.s)(p)),y=m.slice(0,32),g=d().box.keyPair.fromSecretKey(y),f=(0,i.c$)(g.publicKey),h=(0,i.c$)(g.secretKey),b=d().sign.keyPair.fromSeed(y),v=(0,i.c$)(b.publicKey),w=o.v.entropyToPhrase(m);return{username:e,address:l.QX.fromPhrase(w).address,public_key:f,private_key:h,mnemonic:"I know loss mnemonic will lose my wallet."===n?w:"",ed_public_key:v}},m=(e,t,n)=>{let r=new TextEncoder().encode(e),a=d().randomBytes(d().box.nonceLength),s=d().box(r,a,new Uint8Array((0,i.q5)(t)),new Uint8Array((0,i.q5)(n)));return s?["mp://2",(0,u.W)(a),(0,u.W)(s)].join("."):(console.info("加密失败"),"")},y=(e,t,n)=>{let[r,a,s]=e.split(".");if("mp://2"!==r)return console.info("无效协议"),"";let o=d().box.open((0,u.y)(s),(0,u.y)(a),new Uint8Array((0,i.q5)(t)),new Uint8Array((0,i.q5)(n)));return o?new TextDecoder().decode(o):(console.info("无法解密"),"")}},63427:(e,t,n)=>{"use strict";n.d(t,{getEnv:()=>a});var r=n(95704);function a(){return void 0!==r&&r.env&&1?"production":"development"}},67810:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},71165:(e,t,n)=>{"use strict";n.d(t,{Divider:()=>y});var r=n(95155);n(12115);var a=n(49957),i=n(80533),s=n(26225),o=n(23653),l=n(39398),u=n(67623),c=n(91853),d={root:"m_3eebeb36",label:"m_9e365f20"};let p={orientation:"horizontal"},m=(0,i.createVarsResolver)((e,t)=>{let{color:n,variant:r,size:i}=t;return{root:{"--divider-color":n?(0,s.getThemeColor)(n,e):void 0,"--divider-border-style":r,"--divider-size":(0,a.getSize)(i,"divider-size")}}}),y=(0,c.factory)((e,t)=>{let n=(0,o.useProps)("Divider",p,e),{classNames:a,className:i,style:s,styles:c,unstyled:y,vars:g,color:f,orientation:h,label:b,labelPosition:v,mod:w,attributes:x,...S}=n,k=(0,l.useStyles)({name:"Divider",classes:d,props:n,className:i,style:s,classNames:a,styles:c,unstyled:y,attributes:x,vars:g,varsResolver:m});return(0,r.jsx)(u.Box,{ref:t,mod:[{orientation:h,"with-label":!!b},w],...k("root"),...S,role:"separator",children:b&&(0,r.jsx)(u.Box,{component:"span",mod:{position:v},...k("label"),children:b})})});y.classes=d,y.displayName="@mantine/core/Divider"},71281:()=>{},88945:(e,t,n)=>{"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}n.d(t,{A:()=>r})},92364:(e,t,n)=>{"use strict";n.d(t,{Textarea:()=>D});var r=n(95155),a=n(88945),i=n(67810),s=n(12115),o=s.useLayoutEffect,l=function(e){var t=s.useRef(e);return o(function(){t.current=e}),t},u=function(e,t){if("function"==typeof e)return void e(t);e.current=t},c=function(e,t){var n=s.useRef();return s.useCallback(function(r){e.current=r,n.current&&u(n.current,null),n.current=t,t&&u(t,r)},[t])},d={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},p=function(e){Object.keys(d).forEach(function(t){e.style.setProperty(t,d[t],"important")})},m=null,y=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize},g=function(){},f=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],h=!!document.documentElement.currentStyle,b=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n=f.reduce(function(e,n){return e[n]=t[n],e},{}),r=n.boxSizing;if(""===r)return null;h&&"border-box"===r&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var a=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),i=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:a,borderSize:i}};function v(e,t,n){var r=l(n);s.useLayoutEffect(function(){var n=function(e){return r.current(e)};if(e)return e.addEventListener(t,n),function(){return e.removeEventListener(t,n)}},[])}var w=function(e,t){v(document.body,"reset",function(n){e.current.form===n.target&&t(n)})},x=function(e){v(window,"resize",e)},S=function(e){v(document.fonts,"loadingdone",e)},k=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],T=s.forwardRef(function(e,t){var n=e.cacheMeasurements,r=e.maxRows,o=e.minRows,l=e.onChange,u=void 0===l?g:l,d=e.onHeightChange,f=void 0===d?g:d,h=(0,i.A)(e,k),v=void 0!==h.value,T=s.useRef(null),C=c(T,t),I=s.useRef(0),P=s.useRef(),j=function(){var e=T.current,t=n&&P.current?P.current:b(e);if(t){P.current=t;var a,i,s,l,u,c,d,g,h,v,w,x=(a=e.value||e.placeholder||"x",void 0===(i=o)&&(i=1),void 0===(s=r)&&(s=1/0),m||((m=document.createElement("textarea")).setAttribute("tabindex","-1"),m.setAttribute("aria-hidden","true"),p(m)),null===m.parentNode&&document.body.appendChild(m),l=t.paddingSize,u=t.borderSize,d=(c=t.sizingStyle).boxSizing,Object.keys(c).forEach(function(e){m.style[e]=c[e]}),p(m),m.value=a,g=y(m,t),m.value=a,g=y(m,t),m.value="x",v=(h=m.scrollHeight-l)*i,"border-box"===d&&(v=v+l+u),g=Math.max(v,g),w=h*s,"border-box"===d&&(w=w+l+u),[g=Math.min(w,g),h]),S=x[0],k=x[1];I.current!==S&&(I.current=S,e.style.setProperty("height",S+"px","important"),f(S,{rowHeight:k}))}};return s.useLayoutEffect(j),w(T,function(){if(!v){var e=T.current.value;requestAnimationFrame(function(){var t=T.current;t&&e!==t.value&&j()})}}),x(j),S(j),s.createElement("textarea",(0,a.A)({},h,{onChange:function(e){v||j(),u(e)},ref:C}))}),C=n(63427),I=n(23653),P=n(91853),j=n(64256);let A={size:"sm"},D=(0,P.factory)((e,t)=>{let{autosize:n,maxRows:a,minRows:i,__staticSelector:s,resize:o,...l}=(0,I.useProps)("Textarea",A,e),u=n&&"test"!==(0,C.getEnv)();return(0,r.jsx)(j.InputBase,{component:u?T:"textarea",ref:t,...l,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":n&&void 0===a||void 0,__vars:{"--input-resize":o},...u?{maxRows:a,minRows:i}:{}})});D.classes=j.InputBase.classes,D.displayName="@mantine/core/Textarea"},97443:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});var r=n(43591),a=n(68110),i=n(38798),s=n(16405),o=n(82127),l=n(34477),u=n(55544),c=n(85179),d=n(56612),p=n(86710),m=n(36117),y=n.n(m),g=n(44839),f=n.n(g);n(28223);var h=n(78595),b=n.n(h),v=n(28555),w=n.n(v);y().extend(b()),y().extend(f()),y().locale("zh-cn");let x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYYMM",n=y()().isoWeek(),r=y()().format(t)+n,a=sessionStorage.getItem("fingerprint");if(!a)throw Error("请先获取设备指纹");let i=[location.origin,a].join("/"),{public_key:s,private_key:o}=(0,d.BP)(r,i);return(0,d.yO)(JSON.stringify(e),s,o)},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYYMM",n=y()().isoWeek(),r=y()().format(t)+n,a=sessionStorage.getItem("fingerprint");if(!a)throw Error("请先获取设备指纹");let i=[location.origin,a].join("/"),{public_key:s,private_key:o}=(0,d.BP)(r,i),l=(0,d.OM)(e,s,o);if(!l)throw Error("jwt 解析失败");let u=JSON.parse(l);if(!u.address)throw Error("jwt json 解析失败");return u},k=async e=>{let t=Date.now().toString(),n=i.QX.fromPhrase(e.mnemonic),r=await n.signMessage(t);localStorage.token=[e.address,t,r].join(".")},T=e=>{try{var t;let n=x(e);if((null==(t=S(n))?void 0:t.address)===e.address)return localStorage.setItem("jwt",n),k(e),e}catch(e){console.log("登录失败:",e)}return null},C=(e,t)=>{let n=t.slice(2),r=new Uint8Array((0,s.q5)(e+n));return w().sign.keyPair.fromSecretKey(r)},I={avatar:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Most";return(0,l.gn)(u,{seed:"most.box@"+e,flip:!0,backgroundType:["gradientLinear"]}).toDataUri()},avatarCID:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Most";return(0,l.gn)(c,{seed:"most.box#"+e,flip:!0,backgroundType:["gradientLinear","solid"]}).toDataUri()},formatTime:e=>{let t;if(!e)return"";let n=y()(Number(e)),r=n.hour();return t=r>=0&&r<3?"凌晨":r>=3&&r<6?"拂晓":r>=6&&r<9?"早晨":r>=9&&r<12?"上午":r>=12&&r<15?"下午":r>=15&&r<18?"傍晚":r>=18&&r<21?"薄暮":"深夜",n.format("YYYY年M月D日 ".concat(t,"h点m分"))},formatDate:e=>{let t=y()(Number(e)),n=y()();if(t.isSame(n,"minute"))return t.format("HH:mm:ss");if(t.isSame(n,"day"))return t.format("HH:mm");if(t.isSame(n.subtract(1,"day"),"day"))return"昨天 ".concat(t.format("HH:mm"));if(t.isoWeek()===n.isoWeek())return"".concat(["周日","周一","周二","周三","周四","周五","周六"][t.day()]," ").concat(t.format("HH:mm"));if(t.year()===n.year())return t.format("M月D日");else return t.format("YY年M月D日")},formatAddress:e=>e?e.slice(0,6)+"..."+e.slice(-4):"",enBase64:e=>(0,r.W)((0,a.YW)(e)),deBase64:e=>(0,a._v)((0,r.y)(e)),createJWT:x,verifyJWT:S,login:(e,t)=>T((0,d.BP)(e,t,"I know loss mnemonic will lose my wallet.")),loginSave:T,ZeroAddress:o.j,createToken:k,pinyin:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(t.length<n)return!1;if(e.toLowerCase().includes(t.toLowerCase()))return!0;let r=(0,p.YW)(e,t,{continuous:!0});return!!r&&!!(r.length>=n)},openDot:e=>{let t=new URL("/auth/jwt/",e),n=localStorage.getItem("jwt");if(n){let e=I.verifyJWT(n);if(e){let n=y()().format("YY/M/D HH:mm"),{public_key:r,private_key:a}=(0,d.BP)("auth/jwt",n),i=(0,d.yO)(JSON.stringify(e),r,a);t.searchParams.set("token",i)}}window.open(t.href)},getEdKeyPair:C,getIPNS:(e,t)=>{let n=(e=>{let t=new Uint8Array([8,1,18,...(e=>{let t=[];for(;e>=128;)t.push(127&e|128),e>>=7;return t.push(e),t})(e.length)]),n=new Uint8Array(t.length+e.length);return n.set(t,0),n.set(e,t.length),n})(C(e,t).publicKey),r=new Uint8Array(2+n.length);r[0]=0,r[1]=36,r.set(n,2);let a=new Uint8Array([1,114]),i=new Uint8Array(a.length+r.length);return i.set(a,0),i.set(r,a.length),"k"+((e,t)=>{if(0===e.length)return"";let n=t.length,r=0;for(;r<e.length&&0===e[r];)r++;let a=[0];for(let t=r;t<e.length;t++){let r=e[t];for(let e=0;e<a.length;e++){let t=256*a[e]+r;a[e]=t%n,r=Math.floor(t/n)}for(;r>0;)a.push(r%n),r=Math.floor(r/n)}let i="";for(let e=0;e<r;e++)i+=t[0];for(let e=a.length-1;e>=0;e--)i+=t[a[e]];return i})(i,"0123456789abcdefghijklmnopqrstuvwxyz")}},P=I},99777:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(95155),a=n(90101),i=n(97443),s=n(13297),o=n(13877),l=n(2369),u=n(70305),c=n(92364),d=n(71165),p=n(40387),m=n(96778),y=n(52619),g=n.n(y),f=n(12115);let h=e=>btoa(String.fromCharCode(...e));function b(){let e=(0,s.k)(e=>e.wallet),[t,n]=(0,f.useState)(""),[y,b]=(0,f.useState)(""),[v,w]=(0,f.useState)("");return(0,f.useEffect)(()=>{if(e){let t=i.A.getEdKeyPair(e.private_key,e.ed_public_key);if(t){let e=(e=>{var t;let n=new Uint8Array([48,5,6,3,43,101,112]),r=new Uint8Array([4,34,4,32,...e.slice(0,32)]),a=new Uint8Array([2,1,0]),i=a.length+n.length+r.length,s=new Uint8Array(2+i);s[0]=48,s[1]=i;let o=2;s.set(a,o),o+=a.length,s.set(n,o),o+=n.length,s.set(r,o);let l=h(s);return"-----BEGIN PRIVATE KEY-----\n".concat(null==(t=l.match(/.{1,64}/g))?void 0:t.join("\n"),"\n-----END PRIVATE KEY-----")})(t.secretKey),r=(e=>{var t;let n=new Uint8Array([48,5,6,3,43,101,112]),r=new Uint8Array([3,33,0,...e]),a=n.length+r.length,i=new Uint8Array(2+a);i[0]=48,i[1]=a;let s=2;i.set(n,s),s+=n.length,i.set(r,s);let o=h(i);return"-----BEGIN PUBLIC KEY-----\n".concat(null==(t=o.match(/.{1,64}/g))?void 0:t.join("\n"),"\n-----END PUBLIC KEY-----")})(t.publicKey);n(e),b(r)}w(i.A.getIPNS(e.private_key,e.ed_public_key))}},[e]),(0,r.jsxs)(o.Container,{py:20,pt:"xl",children:[(0,r.jsx)(a.AppHeader,{title:"Ed25519 密钥转换为 PKCS#8 PEM 格式"}),(0,r.jsxs)(l.Stack,{gap:"md",children:[(0,r.jsxs)(l.Stack,{gap:"sm",children:[(0,r.jsxs)(u.Text,{fw:500,children:["Ed25519 公钥 (PEM 格式): ",(null==e?void 0:e.username)||"-",".pub"]}),(0,r.jsx)(c.Textarea,{value:y,readOnly:!0,autosize:!0,minRows:3})]}),(0,r.jsxs)(l.Stack,{gap:"sm",children:[(0,r.jsxs)(u.Text,{fw:500,children:["Ed25519 私钥 (PKCS#8 PEM 格式): ",(null==e?void 0:e.username)||"-",".pem"]}),(0,r.jsx)(c.Textarea,{value:t,readOnly:!0,autosize:!0,minRows:3})]}),(0,r.jsx)(d.Divider,{variant:"dashed",labelPosition:"center",my:"md",label:"IPNS ID"}),(0,r.jsx)(p.Center,{children:v||"-"}),(0,r.jsx)(d.Divider,{variant:"dashed",labelPosition:"center",my:"md",label:"原始密钥信息"}),(0,r.jsxs)(l.Stack,{gap:"sm",children:[(0,r.jsx)(u.Text,{children:"ETH 地址 (IPNS key):"}),(0,r.jsx)(u.Text,{children:(null==e?void 0:e.address.toLowerCase())||"-"})]}),(0,r.jsxs)(l.Stack,{gap:"sm",children:[(0,r.jsx)(u.Text,{children:"Ed25519 公钥 (hex):"}),(0,r.jsx)(u.Text,{children:(null==e?void 0:e.ed_public_key)||"-"})]}),(0,r.jsxs)(l.Stack,{gap:"sm",children:[(0,r.jsx)(u.Text,{children:"Ed25519 私钥 (hex):"}),(0,r.jsx)(u.Text,{children:(null==e?void 0:e.private_key)||"-"})]})]}),!e&&(0,r.jsx)(p.Center,{mt:"xl",children:(0,r.jsx)(m.Button,{variant:"gradient",component:g(),href:"/login",children:"去登录"})})]})}}},e=>{e.O(0,[8198,2794,5619,6714,8555,8835,5125,6476,9287,3584,291,101,8441,1255,7358],()=>e(e.s=23538)),_N_E=e.O()}]);