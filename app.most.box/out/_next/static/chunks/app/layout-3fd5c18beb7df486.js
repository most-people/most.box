(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{13297:(e,o,r)=>{"use strict";r.d(o,{k:()=>l});var n=r(97443),s=r(25959),i=r(21794),t=r(59126);let l=(0,s.v)((e,o)=>({wallet:void 0,initWallet(r){e({fingerprint:r});let s=localStorage.getItem("jwt");if(s)try{let o=n.A.verifyJWT(s);o&&(n.A.createToken(o),e({wallet:o}))}catch(e){t.notifications.show({message:"登录过期",color:"red"}),console.warn("登录过期",e),o().exit()}},async updateDot(o){try{let r=new URL(o).origin,n=(await i.FH.get("/api.dot",{baseURL:r})).data;i.FH.defaults.baseURL=r,e({dotAPI:r}),localStorage.setItem("dotAPI",r);let s=n.CIDs[0];return r.endsWith(":1976")&&(s=r.slice(0,-5)+":8080"),s&&(e({dotCID:s}),localStorage.setItem("dotCID",s)),e({notes:void 0,files:void 0}),n.APIs}catch(o){t.notifications.show({message:"节点不可用",color:"red"}),console.info(o),e({dotAPI:i.FH.defaults.baseURL||""})}return null},setItem:(o,r)=>e(e=>({...e,[o]:r})),firstPath:"",dotAPI:"",dotCID:"",dotNodes:[],notes:void 0,notesQuery:"",nodeDark:"",files:void 0,filesPath:"",fingerprint:"",exit(){e({wallet:void 0,notes:void 0,files:void 0}),console.log("\uD83C\uDF0A",localStorage),localStorage.removeItem("jwt"),localStorage.removeItem("token")}}))},16228:()=>{},21794:(e,o,r)=>{"use strict";r.d(o,{C2:()=>s,FH:()=>i});var n=r(95125);let s="https://most.box/auth/callback",i=n.A.create({baseURL:""});i.interceptors.request.use(e=>{let o=localStorage.getItem("token");return o&&(e.headers.Authorization=o),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>Promise.reject(e))},43606:()=>{},56612:(e,o,r)=>{"use strict";r.d(o,{BP:()=>b,OM:()=>a,yO:()=>P});var n=r(68110),s=r(330),i=r(16405),t=r(42779),l=r(10179),d=r(38798),m=r(43591),h=r(28555),v=r.n(h);let b=(e,o,r)=>{let m=(0,n.YW)(o),h=(0,n.YW)("/most.box/"+e),b=(0,s.A)(m,h,3,32,"sha512"),P=(0,i.q5)((0,t.s)(b)),a=P.slice(0,32),c=v().box.keyPair.fromSecretKey(a),u=(0,i.c$)(c.publicKey),f=(0,i.c$)(c.secretKey),g=l.v.entropyToPhrase(P);return{username:e,address:d.QX.fromPhrase(g).address,public_key:u,private_key:f,mnemonic:"I know loss mnemonic will lose my wallet."===r?g:""}},P=(e,o,r)=>{let n=new TextEncoder().encode(e),s=v().randomBytes(v().box.nonceLength),t=v().box(n,s,new Uint8Array((0,i.q5)(o)),new Uint8Array((0,i.q5)(r)));return t?["mp://2",(0,m.W)(s),(0,m.W)(t)].join("."):(console.info("加密失败"),"")},a=(e,o,r)=>{let[n,s,t]=e.split(".");if("mp://2"!==n)return console.info("无效协议"),"";let l=v().box.open((0,m.y)(t),(0,m.y)(s),new Uint8Array((0,i.q5)(o)),new Uint8Array((0,i.q5)(r)));return l?new TextDecoder().decode(l):(console.info("无法解密"),"")}},61093:(e,o,r)=>{"use strict";r.d(o,{default:()=>h});var n=r(1474),s=r(13297),i=r(12115),t=r(21794),l=r(63475),d=r(89522),m=r(20063);function h(){let e=(0,s.k)(e=>e.initWallet),o=(0,s.k)(e=>e.setItem),r=(0,s.k)(e=>e.dotAPI),h=(0,s.k)(e=>e.updateDot),v=(0,m.useRouter)(),b=async()=>{try{let o=await n.Ay.load(),r=(await o.get()).visitorId;sessionStorage.setItem("fingerprint",r),e(r)}catch(e){return console.warn("登录失败:",e),""}};(0,i.useEffect)(()=>{(()=>{let e=window.location.hash.slice(1),r="http".concat(e.endsWith(":1976")?"":"s","://"),n=e?r+e:null;window.location.hash.includes("=")&&(n=null);let s=n||localStorage.getItem("dotAPI");s&&(t.FH.defaults.baseURL=s),h(s||location.origin).then(e=>{null===e&&h("https://dot.most.red")});let i=localStorage.getItem("dotCID");i&&o("dotCID",i)})(),b(),sessionStorage.firstPath=window.location.pathname},[]);let P=(0,m.usePathname)();(0,i.useEffect)(()=>{if(P&&r)try{if(window.location.hash.includes("="))return;let e=new URL(window.location.href),o=new URL(r);e.hash!=="#"+o.host&&(e.host===o.host?e.hash="":e.hash=o.host,v.replace(e.href,{scroll:!1}))}catch(e){}},[P,r]);let{colorScheme:a}=(0,l.useMantineColorScheme)(),c=(0,d.useComputedColorScheme)();return(0,i.useEffect)(()=>{o("nodeDark","dark"===("auto"===a?c:a)?"toastui-editor-dark":"")},[a,c]),null}},71281:()=>{},90652:(e,o,r)=>{Promise.resolve().then(r.bind(r,33380)),Promise.resolve().then(r.bind(r,44947)),Promise.resolve().then(r.bind(r,45247)),Promise.resolve().then(r.bind(r,44503)),Promise.resolve().then(r.bind(r,44629)),Promise.resolve().then(r.bind(r,58380)),Promise.resolve().then(r.bind(r,17764)),Promise.resolve().then(r.bind(r,23924)),Promise.resolve().then(r.bind(r,23188)),Promise.resolve().then(r.bind(r,41970)),Promise.resolve().then(r.bind(r,77147)),Promise.resolve().then(r.bind(r,22756)),Promise.resolve().then(r.bind(r,75802)),Promise.resolve().then(r.bind(r,47424)),Promise.resolve().then(r.bind(r,82422)),Promise.resolve().then(r.bind(r,57486)),Promise.resolve().then(r.bind(r,44190)),Promise.resolve().then(r.bind(r,32608)),Promise.resolve().then(r.bind(r,28316)),Promise.resolve().then(r.bind(r,11592)),Promise.resolve().then(r.bind(r,8358)),Promise.resolve().then(r.bind(r,5480)),Promise.resolve().then(r.bind(r,55302)),Promise.resolve().then(r.bind(r,99825)),Promise.resolve().then(r.bind(r,17998)),Promise.resolve().then(r.bind(r,72110)),Promise.resolve().then(r.bind(r,64153)),Promise.resolve().then(r.bind(r,49111)),Promise.resolve().then(r.bind(r,96778)),Promise.resolve().then(r.bind(r,98929)),Promise.resolve().then(r.bind(r,72995)),Promise.resolve().then(r.bind(r,44634)),Promise.resolve().then(r.bind(r,7487)),Promise.resolve().then(r.bind(r,40387)),Promise.resolve().then(r.bind(r,22797)),Promise.resolve().then(r.bind(r,13097)),Promise.resolve().then(r.bind(r,67317)),Promise.resolve().then(r.bind(r,50328)),Promise.resolve().then(r.bind(r,64894)),Promise.resolve().then(r.bind(r,60775)),Promise.resolve().then(r.bind(r,13484)),Promise.resolve().then(r.bind(r,42683)),Promise.resolve().then(r.bind(r,2679)),Promise.resolve().then(r.bind(r,76167)),Promise.resolve().then(r.bind(r,72451)),Promise.resolve().then(r.bind(r,41417)),Promise.resolve().then(r.bind(r,86029)),Promise.resolve().then(r.bind(r,94766)),Promise.resolve().then(r.bind(r,97186)),Promise.resolve().then(r.bind(r,9317)),Promise.resolve().then(r.bind(r,82074)),Promise.resolve().then(r.bind(r,68861)),Promise.resolve().then(r.bind(r,96394)),Promise.resolve().then(r.bind(r,67391)),Promise.resolve().then(r.bind(r,34292)),Promise.resolve().then(r.bind(r,89536)),Promise.resolve().then(r.bind(r,50872)),Promise.resolve().then(r.bind(r,64206)),Promise.resolve().then(r.bind(r,60640)),Promise.resolve().then(r.bind(r,90844)),Promise.resolve().then(r.bind(r,16464)),Promise.resolve().then(r.bind(r,38762)),Promise.resolve().then(r.bind(r,79220)),Promise.resolve().then(r.bind(r,43174)),Promise.resolve().then(r.bind(r,81288)),Promise.resolve().then(r.bind(r,55694)),Promise.resolve().then(r.bind(r,69984)),Promise.resolve().then(r.bind(r,30096)),Promise.resolve().then(r.bind(r,89198)),Promise.resolve().then(r.bind(r,7186)),Promise.resolve().then(r.bind(r,18296)),Promise.resolve().then(r.bind(r,47152)),Promise.resolve().then(r.bind(r,21150)),Promise.resolve().then(r.bind(r,65246)),Promise.resolve().then(r.bind(r,13564)),Promise.resolve().then(r.bind(r,69902)),Promise.resolve().then(r.bind(r,14953)),Promise.resolve().then(r.bind(r,13877)),Promise.resolve().then(r.bind(r,93852)),Promise.resolve().then(r.bind(r,57779)),Promise.resolve().then(r.bind(r,71165)),Promise.resolve().then(r.bind(r,14604)),Promise.resolve().then(r.bind(r,15388)),Promise.resolve().then(r.bind(r,7738)),Promise.resolve().then(r.bind(r,97245)),Promise.resolve().then(r.bind(r,46219)),Promise.resolve().then(r.bind(r,94658)),Promise.resolve().then(r.bind(r,18060)),Promise.resolve().then(r.bind(r,35558)),Promise.resolve().then(r.bind(r,55704)),Promise.resolve().then(r.bind(r,96710)),Promise.resolve().then(r.bind(r,37494)),Promise.resolve().then(r.bind(r,36628)),Promise.resolve().then(r.bind(r,32129)),Promise.resolve().then(r.bind(r,73524)),Promise.resolve().then(r.bind(r,44635)),Promise.resolve().then(r.bind(r,74124)),Promise.resolve().then(r.bind(r,85784)),Promise.resolve().then(r.bind(r,18256)),Promise.resolve().then(r.bind(r,67661)),Promise.resolve().then(r.bind(r,64637)),Promise.resolve().then(r.bind(r,56278)),Promise.resolve().then(r.bind(r,45689)),Promise.resolve().then(r.bind(r,20981)),Promise.resolve().then(r.bind(r,98757)),Promise.resolve().then(r.bind(r,23967)),Promise.resolve().then(r.bind(r,67257)),Promise.resolve().then(r.bind(r,14777)),Promise.resolve().then(r.bind(r,17741)),Promise.resolve().then(r.bind(r,36035)),Promise.resolve().then(r.bind(r,15155)),Promise.resolve().then(r.bind(r,16939)),Promise.resolve().then(r.bind(r,32349)),Promise.resolve().then(r.bind(r,61576)),Promise.resolve().then(r.bind(r,67044)),Promise.resolve().then(r.bind(r,70847)),Promise.resolve().then(r.bind(r,64256)),Promise.resolve().then(r.bind(r,77834)),Promise.resolve().then(r.bind(r,70691)),Promise.resolve().then(r.bind(r,93774)),Promise.resolve().then(r.bind(r,14605)),Promise.resolve().then(r.bind(r,63090)),Promise.resolve().then(r.bind(r,18244)),Promise.resolve().then(r.bind(r,58565)),Promise.resolve().then(r.bind(r,33864)),Promise.resolve().then(r.bind(r,16964)),Promise.resolve().then(r.bind(r,91314)),Promise.resolve().then(r.bind(r,89770)),Promise.resolve().then(r.bind(r,40088)),Promise.resolve().then(r.bind(r,38258)),Promise.resolve().then(r.bind(r,90632)),Promise.resolve().then(r.bind(r,76984)),Promise.resolve().then(r.bind(r,19758)),Promise.resolve().then(r.bind(r,10545)),Promise.resolve().then(r.bind(r,17311)),Promise.resolve().then(r.bind(r,62310)),Promise.resolve().then(r.bind(r,45136)),Promise.resolve().then(r.bind(r,90594)),Promise.resolve().then(r.bind(r,55260)),Promise.resolve().then(r.bind(r,74872)),Promise.resolve().then(r.bind(r,86793)),Promise.resolve().then(r.bind(r,3416)),Promise.resolve().then(r.bind(r,32506)),Promise.resolve().then(r.bind(r,91229)),Promise.resolve().then(r.bind(r,71595)),Promise.resolve().then(r.bind(r,11171)),Promise.resolve().then(r.bind(r,15378)),Promise.resolve().then(r.bind(r,92415)),Promise.resolve().then(r.bind(r,64379)),Promise.resolve().then(r.bind(r,23794)),Promise.resolve().then(r.bind(r,33260)),Promise.resolve().then(r.bind(r,83683)),Promise.resolve().then(r.bind(r,32720)),Promise.resolve().then(r.bind(r,75122)),Promise.resolve().then(r.bind(r,93178)),Promise.resolve().then(r.bind(r,25542)),Promise.resolve().then(r.bind(r,83925)),Promise.resolve().then(r.bind(r,95771)),Promise.resolve().then(r.bind(r,41193)),Promise.resolve().then(r.bind(r,69481)),Promise.resolve().then(r.bind(r,64727)),Promise.resolve().then(r.bind(r,82726)),Promise.resolve().then(r.bind(r,27701)),Promise.resolve().then(r.bind(r,44500)),Promise.resolve().then(r.bind(r,6992)),Promise.resolve().then(r.bind(r,46434)),Promise.resolve().then(r.bind(r,83937)),Promise.resolve().then(r.bind(r,8736)),Promise.resolve().then(r.bind(r,58421)),Promise.resolve().then(r.bind(r,79770)),Promise.resolve().then(r.bind(r,36538)),Promise.resolve().then(r.bind(r,71706)),Promise.resolve().then(r.bind(r,63790)),Promise.resolve().then(r.bind(r,30732)),Promise.resolve().then(r.bind(r,70944)),Promise.resolve().then(r.bind(r,35240)),Promise.resolve().then(r.bind(r,35364)),Promise.resolve().then(r.bind(r,43796)),Promise.resolve().then(r.bind(r,49891)),Promise.resolve().then(r.bind(r,33235)),Promise.resolve().then(r.bind(r,54930)),Promise.resolve().then(r.bind(r,40411)),Promise.resolve().then(r.bind(r,92502)),Promise.resolve().then(r.bind(r,98163)),Promise.resolve().then(r.bind(r,74115)),Promise.resolve().then(r.bind(r,18845)),Promise.resolve().then(r.bind(r,25832)),Promise.resolve().then(r.bind(r,63498)),Promise.resolve().then(r.bind(r,92804)),Promise.resolve().then(r.bind(r,21179)),Promise.resolve().then(r.bind(r,94621)),Promise.resolve().then(r.bind(r,72179)),Promise.resolve().then(r.bind(r,33998)),Promise.resolve().then(r.bind(r,69772)),Promise.resolve().then(r.bind(r,61024)),Promise.resolve().then(r.bind(r,2369)),Promise.resolve().then(r.bind(r,66143)),Promise.resolve().then(r.bind(r,24164)),Promise.resolve().then(r.bind(r,91418)),Promise.resolve().then(r.bind(r,21155)),Promise.resolve().then(r.bind(r,47121)),Promise.resolve().then(r.bind(r,93480)),Promise.resolve().then(r.bind(r,21786)),Promise.resolve().then(r.bind(r,65878)),Promise.resolve().then(r.bind(r,55250)),Promise.resolve().then(r.bind(r,45766)),Promise.resolve().then(r.bind(r,89207)),Promise.resolve().then(r.bind(r,98005)),Promise.resolve().then(r.bind(r,11189)),Promise.resolve().then(r.bind(r,76503)),Promise.resolve().then(r.bind(r,70305)),Promise.resolve().then(r.bind(r,92364)),Promise.resolve().then(r.bind(r,60688)),Promise.resolve().then(r.bind(r,78094)),Promise.resolve().then(r.bind(r,27071)),Promise.resolve().then(r.bind(r,75958)),Promise.resolve().then(r.bind(r,74264)),Promise.resolve().then(r.bind(r,9457)),Promise.resolve().then(r.bind(r,58366)),Promise.resolve().then(r.bind(r,63326)),Promise.resolve().then(r.bind(r,10476)),Promise.resolve().then(r.bind(r,63652)),Promise.resolve().then(r.bind(r,14189)),Promise.resolve().then(r.bind(r,30198)),Promise.resolve().then(r.bind(r,55002)),Promise.resolve().then(r.bind(r,12007)),Promise.resolve().then(r.bind(r,32860)),Promise.resolve().then(r.bind(r,73643)),Promise.resolve().then(r.bind(r,15717)),Promise.resolve().then(r.bind(r,67623)),Promise.resolve().then(r.bind(r,59565)),Promise.resolve().then(r.bind(r,93668)),Promise.resolve().then(r.bind(r,38028)),Promise.resolve().then(r.bind(r,11934)),Promise.resolve().then(r.bind(r,89847)),Promise.resolve().then(r.bind(r,66645)),Promise.resolve().then(r.bind(r,91853)),Promise.resolve().then(r.bind(r,24454)),Promise.resolve().then(r.bind(r,96489)),Promise.resolve().then(r.bind(r,8485)),Promise.resolve().then(r.bind(r,56506)),Promise.resolve().then(r.bind(r,37117)),Promise.resolve().then(r.bind(r,60825)),Promise.resolve().then(r.bind(r,51345)),Promise.resolve().then(r.bind(r,19349)),Promise.resolve().then(r.bind(r,26225)),Promise.resolve().then(r.bind(r,38589)),Promise.resolve().then(r.bind(r,59144)),Promise.resolve().then(r.bind(r,71894)),Promise.resolve().then(r.bind(r,90533)),Promise.resolve().then(r.bind(r,87848)),Promise.resolve().then(r.bind(r,98865)),Promise.resolve().then(r.bind(r,86151)),Promise.resolve().then(r.bind(r,15203)),Promise.resolve().then(r.bind(r,99640)),Promise.resolve().then(r.bind(r,3601)),Promise.resolve().then(r.bind(r,58835)),Promise.resolve().then(r.bind(r,67821)),Promise.resolve().then(r.bind(r,89522)),Promise.resolve().then(r.bind(r,63475)),Promise.resolve().then(r.bind(r,98172)),Promise.resolve().then(r.bind(r,36805)),Promise.resolve().then(r.bind(r,23653)),Promise.resolve().then(r.bind(r,80533)),Promise.resolve().then(r.bind(r,61275)),Promise.resolve().then(r.bind(r,73606)),Promise.resolve().then(r.bind(r,3192)),Promise.resolve().then(r.bind(r,65197)),Promise.resolve().then(r.bind(r,39398)),Promise.resolve().then(r.bind(r,72603)),Promise.resolve().then(r.bind(r,74451)),Promise.resolve().then(r.bind(r,24413)),Promise.resolve().then(r.bind(r,41427)),Promise.resolve().then(r.bind(r,24655)),Promise.resolve().then(r.bind(r,27119)),Promise.resolve().then(r.bind(r,76213)),Promise.resolve().then(r.bind(r,94291)),Promise.resolve().then(r.bind(r,3439)),Promise.resolve().then(r.bind(r,38815)),Promise.resolve().then(r.bind(r,1021)),Promise.resolve().then(r.bind(r,9609)),Promise.resolve().then(r.bind(r,75459)),Promise.resolve().then(r.bind(r,94419)),Promise.resolve().then(r.bind(r,63427)),Promise.resolve().then(r.bind(r,5297)),Promise.resolve().then(r.bind(r,37047)),Promise.resolve().then(r.bind(r,49957)),Promise.resolve().then(r.bind(r,97511)),Promise.resolve().then(r.bind(r,24107)),Promise.resolve().then(r.bind(r,49165)),Promise.resolve().then(r.bind(r,58541)),Promise.resolve().then(r.bind(r,50099)),Promise.resolve().then(r.bind(r,86845)),Promise.resolve().then(r.bind(r,35747)),Promise.resolve().then(r.bind(r,80738)),Promise.resolve().then(r.bind(r,2380)),Promise.resolve().then(r.bind(r,94564)),Promise.resolve().then(r.t.bind(r,77994,23)),Promise.resolve().then(r.bind(r,53700)),Promise.resolve().then(r.bind(r,88240)),Promise.resolve().then(r.bind(r,37296)),Promise.resolve().then(r.bind(r,6424)),Promise.resolve().then(r.bind(r,35264)),Promise.resolve().then(r.bind(r,57720)),Promise.resolve().then(r.bind(r,4552)),Promise.resolve().then(r.bind(r,59680)),Promise.resolve().then(r.bind(r,31064)),Promise.resolve().then(r.bind(r,63078)),Promise.resolve().then(r.bind(r,55904)),Promise.resolve().then(r.bind(r,80324)),Promise.resolve().then(r.bind(r,29100)),Promise.resolve().then(r.bind(r,92380)),Promise.resolve().then(r.bind(r,79300)),Promise.resolve().then(r.bind(r,51568)),Promise.resolve().then(r.bind(r,72504)),Promise.resolve().then(r.bind(r,8225)),Promise.resolve().then(r.bind(r,48226)),Promise.resolve().then(r.bind(r,62280)),Promise.resolve().then(r.bind(r,56408)),Promise.resolve().then(r.bind(r,26442)),Promise.resolve().then(r.bind(r,74424)),Promise.resolve().then(r.bind(r,62295)),Promise.resolve().then(r.bind(r,27712)),Promise.resolve().then(r.bind(r,94232)),Promise.resolve().then(r.bind(r,8893)),Promise.resolve().then(r.bind(r,7054)),Promise.resolve().then(r.bind(r,21740)),Promise.resolve().then(r.bind(r,18364)),Promise.resolve().then(r.bind(r,56080)),Promise.resolve().then(r.bind(r,57256)),Promise.resolve().then(r.bind(r,1392)),Promise.resolve().then(r.bind(r,98200)),Promise.resolve().then(r.bind(r,50822)),Promise.resolve().then(r.bind(r,17092)),Promise.resolve().then(r.bind(r,7406)),Promise.resolve().then(r.bind(r,70382)),Promise.resolve().then(r.bind(r,69112)),Promise.resolve().then(r.bind(r,97032)),Promise.resolve().then(r.bind(r,11286)),Promise.resolve().then(r.bind(r,8320)),Promise.resolve().then(r.bind(r,87444)),Promise.resolve().then(r.bind(r,91128)),Promise.resolve().then(r.bind(r,77808)),Promise.resolve().then(r.bind(r,66308)),Promise.resolve().then(r.bind(r,90300)),Promise.resolve().then(r.bind(r,55026)),Promise.resolve().then(r.bind(r,11928)),Promise.resolve().then(r.bind(r,58190)),Promise.resolve().then(r.bind(r,91400)),Promise.resolve().then(r.bind(r,91388)),Promise.resolve().then(r.bind(r,53360)),Promise.resolve().then(r.bind(r,30548)),Promise.resolve().then(r.bind(r,20888)),Promise.resolve().then(r.bind(r,38606)),Promise.resolve().then(r.bind(r,59806)),Promise.resolve().then(r.bind(r,66748)),Promise.resolve().then(r.bind(r,60088)),Promise.resolve().then(r.bind(r,97224)),Promise.resolve().then(r.bind(r,94280)),Promise.resolve().then(r.bind(r,5070)),Promise.resolve().then(r.bind(r,24980)),Promise.resolve().then(r.bind(r,40038)),Promise.resolve().then(r.bind(r,386)),Promise.resolve().then(r.bind(r,32076)),Promise.resolve().then(r.bind(r,4268)),Promise.resolve().then(r.bind(r,44824)),Promise.resolve().then(r.bind(r,26578)),Promise.resolve().then(r.bind(r,31416)),Promise.resolve().then(r.bind(r,70936)),Promise.resolve().then(r.bind(r,58064)),Promise.resolve().then(r.bind(r,25528)),Promise.resolve().then(r.bind(r,27580)),Promise.resolve().then(r.bind(r,41030)),Promise.resolve().then(r.bind(r,2378)),Promise.resolve().then(r.bind(r,70134)),Promise.resolve().then(r.bind(r,96202)),Promise.resolve().then(r.bind(r,32130)),Promise.resolve().then(r.bind(r,34982)),Promise.resolve().then(r.bind(r,8350)),Promise.resolve().then(r.bind(r,90982)),Promise.resolve().then(r.bind(r,35263)),Promise.resolve().then(r.bind(r,61382)),Promise.resolve().then(r.bind(r,23767)),Promise.resolve().then(r.bind(r,59126)),Promise.resolve().then(r.t.bind(r,72893,23)),Promise.resolve().then(r.t.bind(r,46438,23)),Promise.resolve().then(r.t.bind(r,40857,23)),Promise.resolve().then(r.t.bind(r,14374,23)),Promise.resolve().then(r.t.bind(r,73694,23)),Promise.resolve().then(r.t.bind(r,16228,23)),Promise.resolve().then(r.t.bind(r,43606,23)),Promise.resolve().then(r.bind(r,61093))},97443:(e,o,r)=>{"use strict";r.d(o,{A:()=>k});var n=r(43591),s=r(68110),i=r(38798),t=r(82127),l=r(34477),d=r(55544),m=r(85179),h=r(56612),v=r(86710),b=r(36117),P=r.n(b),a=r(44839),c=r.n(a);r(28223);var u=r(78595),f=r.n(u);P().extend(f()),P().extend(c()),P().locale("zh-cn");let g=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYYMM",r=P()().isoWeek(),n=P()().format(o)+r,s=sessionStorage.getItem("fingerprint");if(!s)throw Error("请先获取设备指纹");let i=[location.origin,s].join("/"),{public_key:t,private_key:l}=(0,h.BP)(n,i);return(0,h.yO)(JSON.stringify(e),t,l)},w=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYYMM",r=P()().isoWeek(),n=P()().format(o)+r,s=sessionStorage.getItem("fingerprint");if(!s)throw Error("请先获取设备指纹");let i=[location.origin,s].join("/"),{public_key:t,private_key:l}=(0,h.BP)(n,i),d=(0,h.OM)(e,t,l);if(!d)throw Error("jwt 解析失败");let m=JSON.parse(d);if(!m.address)throw Error("jwt json 解析失败");return m},y=async e=>{let o=Date.now().toString(),r=i.QX.fromPhrase(e.mnemonic),n=await r.signMessage(o);localStorage.token=[e.address,o,n].join(".")},p=e=>{try{var o;let r=g(e);if((null==(o=w(r))?void 0:o.address)===e.address)return localStorage.setItem("jwt",r),y(e),e}catch(e){console.log("登录失败:",e)}return null},I={avatar:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Most";return(0,l.gn)(d,{seed:"most.box@"+e,flip:!0,backgroundType:["gradientLinear"]}).toDataUri()},avatarCID:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Most";return(0,l.gn)(m,{seed:"most.box#"+e,flip:!0,backgroundType:["gradientLinear","solid"]}).toDataUri()},formatTime:e=>{let o;if(!e)return"";let r=P()(Number(e)),n=r.hour();return o=n>=0&&n<3?"凌晨":n>=3&&n<6?"拂晓":n>=6&&n<9?"早晨":n>=9&&n<12?"上午":n>=12&&n<15?"下午":n>=15&&n<18?"傍晚":n>=18&&n<21?"薄暮":"深夜",r.format("YYYY年M月D日 ".concat(o,"h点m分"))},formatDate:e=>{let o=P()(Number(e)),r=P()();if(o.isSame(r,"minute"))return o.format("HH:mm:ss");if(o.isSame(r,"day"))return o.format("HH:mm");if(o.isSame(r.subtract(1,"day"),"day"))return"昨天 ".concat(o.format("HH:mm"));if(o.isoWeek()===r.isoWeek())return"".concat(["周日","周一","周二","周三","周四","周五","周六"][o.day()]," ").concat(o.format("HH:mm"));if(o.year()===r.year())return o.format("M月D日");else return o.format("YY年M月D日")},formatAddress:e=>e?e.slice(0,6)+"..."+e.slice(-4):"",enBase64:e=>(0,n.W)((0,s.YW)(e)),deBase64:e=>(0,s._v)((0,n.y)(e)),createJWT:g,verifyJWT:w,login:(e,o)=>p((0,h.BP)(e,o,"I know loss mnemonic will lose my wallet.")),loginSave:p,ZeroAddress:t.j,createToken:y,pinyin:function(e,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(o.length<r)return!1;if(e.toLowerCase().includes(o.toLowerCase()))return!0;let n=(0,v.YW)(e,o,{continuous:!0});return!!n&&!!(n.length>=r)},openDot:e=>{let o=new URL("/auth/jwt/",e),r=localStorage.getItem("jwt");if(r){let e=I.verifyJWT(r);if(e){let r=P()().format("YY/M/D HH:mm"),{public_key:n,private_key:s}=(0,h.BP)("auth/jwt",r),i=(0,h.yO)(JSON.stringify(e),n,s);o.searchParams.set("token",i)}}window.open(o.href)}},k=I}},e=>{e.O(0,[2997,4498,1069,4732,8198,2545,2829,5619,6714,8555,8990,5125,9287,9318,9457,4988,7985,547,9517,983,2835,7821,7155,8441,1255,7358],()=>e(e.s=90652)),_N_E=e.O()}]);