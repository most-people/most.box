(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{4673:(e,t,n)=>{"use strict";n.d(t,{BP:()=>h,OM:()=>x,yO:()=>m});var a=n(30167),i=n(71425),r=n(44532),o=n(87788),l=n(56076),s=n(88413),c=n(70358),d=n(26634),u=n.n(d);let h=(e,t,n)=>{let c=(0,a.YW)(t),d=(0,a.YW)("/most.box/"+e),h=(0,i.A)(c,d,3,32,"sha512"),m=(0,r.q5)((0,o.s)(h)),x=m.slice(0,32),f=u().box.keyPair.fromSecretKey(x),p=(0,r.c$)(f.publicKey),g=(0,r.c$)(f.secretKey),j=l.v.entropyToPhrase(m);return{username:e,address:s.QX.fromPhrase(j).address,public_key:p,private_key:g,mnemonic:"I know loss mnemonic will lose my wallet."===n?j:""}},m=(e,t,n)=>{let a=new TextEncoder().encode(e),i=u().randomBytes(u().box.nonceLength),o=u().box(a,i,new Uint8Array((0,r.q5)(t)),new Uint8Array((0,r.q5)(n)));return o?["mp://2",(0,c.W)(i),(0,c.W)(o)].join("."):(console.info("加密失败"),"")},x=(e,t,n)=>{let[a,i,o]=e.split(".");if("mp://2"!==a)return console.info("无效协议"),"";let l=u().box.open((0,c.y)(o),(0,c.y)(i),new Uint8Array((0,r.q5)(t)),new Uint8Array((0,r.q5)(n)));return l?new TextDecoder().decode(l):(console.info("解密失败"),"")}},6396:()=>{},7534:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>X});var a=n(95155),i=n(12115),r=n(81001),o=n(46647),l=n(58887),s=n(31810);n(29439);var c=n(6874),d=n.n(c),u=n(69604),h=n(70112),m=n(39926),x=n(21220),f=n(48764),p=n(9482);function g(){let e=(0,f.k)(e=>e.wallet),t=(null==e?void 0:e.address)||p.A.ZeroAddress,n=(0,f.k)(e=>e.exit);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Box,{className:"header",children:(0,a.jsxs)(h.Group,{wrap:"nowrap",children:[(0,a.jsx)(m.Avatar,{size:"md",radius:"sm",src:(null==e?void 0:e.address)?p.A.avatar(e.address):"/icons/pwa-512x512.png",alt:"it's me"}),(0,a.jsxs)(u.Box,{children:[(0,a.jsx)(l.Text,{size:"lg",fw:500,lineClamp:2,children:(null==e?void 0:e.username)||"Most.Box"}),(0,a.jsxs)(l.Text,{size:"sm",c:"dimmed",children:["地址: ",p.A.formatAddress(t)]})]}),(0,a.jsx)(r.ActionIcon,{ml:"auto",variant:"subtle",color:"gray",component:d(),href:{pathname:"/card",query:{uid:t}},children:(0,a.jsx)(s.I,{name:"QRCode",size:18})})]})}),(0,a.jsxs)(x.Stack,{className:"menu-list",mb:"xs",gap:0,children:[(0,a.jsx)(j,{icon:"Web3",label:"Web3",link:"/web3"}),(0,a.jsx)(j,{icon:"Earth",label:"节点",link:"/dot"})]}),(0,a.jsxs)(x.Stack,{className:"menu-list",gap:0,children:[(0,a.jsx)(j,{icon:"About",label:"关于",link:"/about"}),(0,a.jsx)(j,{icon:"Setting",label:"设置",link:"/setting"}),(0,a.jsx)(j,{icon:"Join",label:"志同道合",link:"/join"})]}),(0,a.jsx)(x.Stack,{className:"menu-list",mt:"xs",children:(0,a.jsx)(j,{icon:"Exit",label:e?"退出账户":"去登录",link:"/login",onClick:()=>{e&&n()}})})]})}function j(e){let{icon:t,label:n,link:i,onClick:r}=e;return(0,a.jsxs)(u.Box,{component:d(),href:i,className:"menu-item",onClick:r,children:[(0,a.jsxs)(h.Group,{children:[(0,a.jsx)(s.I,{name:t,size:32}),(0,a.jsx)(l.Text,{children:n})]}),(0,a.jsx)(s.I,{name:"Arrow",size:18})]})}var y=n(8141),v=n(8593),w=n(44230),k=n(26029),b=n(27361),C=n(18403),T=n(89047),A=n(59741),I=n(26903),S=n(63617),D=n(74271),M=n(54205);n(69570);var P=n(41698),z=n(86467);let F=(0,z.A)("outline","plus","Plus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),B=(0,z.A)("outline","folder-plus","FolderPlus",[["path",{d:"M12 19h-7a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v3.5",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}]]),E=(0,z.A)("outline","dots-vertical","DotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);var N=n(54395),H=n(6942);let L=[".note"];function O(){let e=(0,f.k)(e=>e.wallet),t=(0,f.k)(e=>e.dotCID),n=(0,f.k)(e=>e.files),o=(0,f.k)(e=>e.filesPath),s=(0,f.k)(e=>e.setItem),[c,u]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[j,z]=(0,i.useState)([]),[O,G]=(0,i.useState)(!1),[R,W]=(0,i.useState)(""),[U,Y]=(0,i.useState)(100),[_,q]=(0,i.useState)(!1),[$,V]=(0,i.useState)(null),[K,Q]=(0,i.useState)(""),[X,J]=(0,i.useState)(!1),Z=(0,i.useRef)(null),ee=(0,i.useRef)(null),et=async e=>{try{u(!0);let t=await M.FH.post("/files/".concat(e));W(""),s("files",t.data)}catch(e){console.error(e),H.notifications.show({message:e.message,color:"red"})}finally{u(!1)}},en=e=>{if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]},ea=n?n.filter(e=>p.A.pinyin(e.name,R,0)).sort((e,t)=>"directory"===e.type&&"directory"!==t.type?-1:+("directory"!==e.type&&"directory"===t.type)):[],ei=ea.slice(0,U),er=ea.length>U;(0,i.useEffect)(()=>{Y(100)},[R]);let eo=async e=>{var t,n;if(!e||0===e.length)return;g(!0);let a=H.notifications.show({title:"上传中",message:"请稍后...",color:"blue",autoClose:!1});try{for(let n=0;n<e.length;n++){let i=e[n],r=new FormData;r.append("file",i);let l=i.webkitRelativePath,s=o?"".concat(o,"/").concat(l):l;r.append("path",s+i.name),(null==(t=(await M.FH.put("/files.upload",r)).data)?void 0:t.cid)&&H.notifications.update({id:a,title:"上传中",message:"".concat(i.name," 上传成功")})}H.notifications.update({id:a,title:"上传完成",message:"共上传 ".concat(e.length," 个文件"),color:"green",autoClose:!0}),await et(o),G(!1),z([])}catch(t){let e=(null==t||null==(n=t.response)?void 0:n.data)||"文件上传失败，请重试";e.includes("already has")&&(e="文件已存在"),H.notifications.update({id:a,title:"上传失败",message:e,color:"red",autoClose:!0})}finally{g(!1)}},el=e=>{let t=e.target.files;if(t&&t.length>0){let e=Array.from(t);1!==e.length||e[0].webkitRelativePath?(z(e.map(e=>({file:e,path:e.webkitRelativePath||e.name,size:en(e.size)}))),G(!0)):eo(e)}e.target.value=""},es=()=>{G(!1),z([])},ec=async e=>{try{let t=o?"".concat(o,"/").concat(e):e;await M.FH.delete("/files/".concat(t)),H.notifications.show({title:"删除成功",message:"文件 ".concat(e," 已删除"),color:"green"}),await et(o)}catch(t){console.error("删除失败:",t),H.notifications.show({title:"删除失败",message:"删除文件 ".concat(e," 失败，请重试"),color:"red"})}},ed=async()=>{if(!$||!K.trim()||K===$.name)return void q(!1);J(!0);try{let e=o?"".concat(o,"/").concat($.name):$.name,t=o?"".concat(o,"/").concat(K.trim()):K.trim();await M.FH.put("/files.rename",{oldName:"/".concat(e),newName:"/".concat(t)}),H.notifications.show({title:"重命名成功",message:'新名称 "'.concat(K.trim(),'"'),color:"green"}),await et(o),q(!1),V(null),Q("")}catch(e){console.error("重命名失败:",e),H.notifications.show({title:"重命名失败",message:'重命名文件 "'.concat($.name,'" 失败，请重试'),color:"red"})}finally{J(!1)}},eu=e=>{let t=o?"".concat(o,"/").concat(e):e;s("filesPath",t),et(t)};return(0,i.useEffect)(()=>{e&&!n&&et(o)},[e,n]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x.Stack,{gap:"md",p:"md",children:[(0,a.jsx)(y.Center,{children:(0,a.jsx)(v.TextInput,{placeholder:"搜索文件名称",value:R,onChange:e=>W(e.currentTarget.value),size:"md",radius:"md",w:400,styles:{input:{textAlign:"center"}}})}),(0,a.jsxs)(h.Group,{justify:"space-between",align:"center",pos:"relative",children:[(0,a.jsx)(w.LoadingOverlay,{visible:c,overlayProps:{backgroundOpacity:0},loaderProps:{type:"dots"}}),(0,a.jsxs)(k.Badge,{variant:"light",size:"lg",children:[R?"显示 ".concat(ei.length," / ").concat(ea.length," (总共 ").concat((null==n?void 0:n.length)||0,")"):"显示 ".concat(ei.length," / ").concat((null==n?void 0:n.length)||0)," ","个文件"]}),(0,a.jsxs)(h.Group,{children:[(0,a.jsx)(b.Tooltip,{label:"刷新",children:(0,a.jsx)(r.ActionIcon,{size:"lg",onClick:()=>et(o),color:"blue",disabled:!e,children:(0,a.jsx)(P.A,{size:18})})}),(0,a.jsx)(b.Tooltip,{label:"上传文件",children:(0,a.jsx)(r.ActionIcon,{size:"lg",onClick:()=>{var e;null==(e=Z.current)||e.click()},color:"green",disabled:!e||m,children:(0,a.jsx)(F,{size:18})})}),(0,a.jsx)(b.Tooltip,{label:"上传文件夹",children:(0,a.jsx)(r.ActionIcon,{size:"lg",onClick:()=>{var e;null==(e=ee.current)||e.click()},color:"yellow",disabled:!e||m,children:(0,a.jsx)(B,{size:18})})})]})]}),R&&0===ea.length?(0,a.jsxs)(x.Stack,{align:"center",justify:"center",h:200,children:[(0,a.jsx)(l.Text,{size:"lg",c:"dimmed",children:"未找到文件"}),(0,a.jsx)(l.Text,{size:"sm",c:"dimmed",children:"尝试用其他关键词搜索"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Card,{radius:"md",withBorder:!0,children:(0,a.jsx)(h.Group,{style:{cursor:o?"pointer":""},onClick:o?()=>{let e=o.split("/");e.pop();let t=e.join("/");s("filesPath",t),et(t)}:void 0,children:(0,a.jsxs)(l.Text,{fw:500,children:["\uD83D\uDCC1 ",o?"..":"根目录"]})})}),(0,a.jsx)(T.Grid,{gutter:"md",children:ei.map((e,n)=>(0,a.jsx)(T.Grid.Col,{span:{base:12,xs:6,sm:4,md:3,lg:3,xl:2},children:(0,a.jsx)(C.Card,{radius:"md",withBorder:!0,children:(0,a.jsxs)(h.Group,{justify:"space-between",wrap:"nowrap",gap:4,children:[(0,a.jsx)(x.Stack,{gap:4,flex:1,style:{cursor:"directory"===e.type?"pointer":""},onClick:()=>{"directory"===e.type&&eu(e.name)},children:(0,a.jsxs)(l.Text,{fw:500,lineClamp:1,children:["directory"===e.type?"\uD83D\uDCC1":"\uD83D\uDCC4"," ",e.name]})}),(0,a.jsxs)(A.Menu,{shadow:"md",width:120,children:[(0,a.jsx)(A.Menu.Target,{children:(0,a.jsx)(r.ActionIcon,{variant:"subtle",color:"gray",children:(0,a.jsx)(E,{size:14})})}),(0,a.jsxs)(A.Menu.Dropdown,{children:[(0,a.jsx)(A.Menu.Item,{leftSection:"\uD83D\uDCD6",onClick:()=>{if("directory"===e.type)eu(e.name);else{let n="".concat(t,"/ipfs/").concat(e.cid["/"],"?filename=").concat(e.name);window.open(n,"_blank")}},children:"directory"===e.type?"打开":"查看"}),(0,a.jsx)(A.Menu.Item,{leftSection:"\uD83D\uDCE4",onClick:()=>{let n="".concat(t,"/ipfs/").concat(e.cid["/"],"?filename=").concat(e.name);navigator.share?navigator.share({title:"文件: ".concat(e.name),url:n}):navigator.clipboard.writeText(n).then(()=>{H.notifications.show({color:"green",message:"分享链接已复制到剪贴板"})})},children:"分享"}),(0,a.jsx)(A.Menu.Item,{leftSection:"✏️",onClick:()=>{V(e),Q(e.name),q(!0)},children:"重命名"}),(0,a.jsx)(A.Menu.Divider,{}),(0,a.jsx)(A.Menu.Item,{leftSection:"⬇️",component:d(),target:"_blank",href:"directory"===e.type?"".concat(t,"/ipfs/").concat(e.cid["/"],"?download=true&format=tar&filename=").concat(e.name,".tar"):"".concat(t,"/ipfs/").concat(e.cid["/"],"?download=true&filename=").concat(e.name),children:"下载"}),(0,a.jsx)(A.Menu.Item,{disabled:""===o&&"directory"===e.type&&L.includes(e.name),leftSection:"\uD83D\uDDD1️",onClick:()=>{window.confirm('确定要删除文件 "'.concat(e.name,'" 吗？'))&&ec(e.name)},children:"删除"}),e.size>0&&(0,a.jsx)(A.Menu.Label,{children:(0,a.jsx)(y.Center,{children:(0,a.jsx)(l.Text,{size:"xs",c:"dimmed",children:en(e.size)})})})]})]})]})})},n))}),er&&(0,a.jsx)(y.Center,{children:(0,a.jsxs)(I.Button,{variant:"light",onClick:()=>{Y(e=>e+100)},size:"md",children:["继续加载 (",ea.length-U," 个剩余)"]})})]})]}),!e&&(0,a.jsx)(y.Center,{children:(0,a.jsx)(I.Button,{variant:"gradient",component:d(),href:"/login",children:"去登录"})}),(0,a.jsx)("input",{ref:Z,type:"file",multiple:!0,style:{display:"none"},onChange:el}),(0,a.jsx)("input",{ref:ee,type:"file",webkitdirectory:"",multiple:!0,style:{display:"none"},onChange:el}),(0,a.jsx)(S.Modal,{opened:O,onClose:es,title:"文件预览",size:"lg",centered:!0,children:(0,a.jsxs)(x.Stack,{gap:"md",children:[(0,a.jsx)(h.Group,{justify:"space-between",children:(0,a.jsxs)(l.Text,{size:"sm",c:"dimmed",children:["共 ",j.length," 个文件，总大小: ",en(j.reduce((e,t)=>e+t.file.size,0))]})}),(0,a.jsx)(D.ScrollArea,{h:300,children:(0,a.jsx)(x.Stack,{gap:"xs",children:j.map((e,t)=>(0,a.jsx)(C.Card,{p:"sm",withBorder:!0,children:(0,a.jsxs)(h.Group,{justify:"space-between",align:"center",wrap:"nowrap",children:[(0,a.jsxs)(h.Group,{align:"center",children:[(0,a.jsx)(l.Text,{size:"sm",children:"\uD83D\uDCC4"}),(0,a.jsxs)(x.Stack,{gap:2,children:[(0,a.jsx)(l.Text,{size:"sm",fw:500,children:e.path}),(0,a.jsx)(l.Text,{size:"xs",c:"dimmed",children:e.size})]})]}),(0,a.jsx)(r.ActionIcon,{variant:"subtle",color:"gray",onClick:()=>(e=>{let t=j.filter((t,n)=>n!==e);z(t),0===t.length&&G(!1)})(t),children:(0,a.jsx)(N.A,{})})]})},t))})}),(0,a.jsxs)(h.Group,{justify:"flex-end",gap:"sm",children:[(0,a.jsx)(I.Button,{variant:"outline",onClick:es,disabled:m,children:"取消"}),(0,a.jsx)(I.Button,{onClick:()=>{eo(j.map(e=>e.file))},loading:m,disabled:0===j.length,children:"确认上传"})]})]})}),(0,a.jsx)(S.Modal,{opened:_,onClose:()=>{q(!1),V(null),Q("")},title:"新名称",centered:!0,children:(0,a.jsxs)(x.Stack,{gap:"md",children:[(0,a.jsx)(v.TextInput,{placeholder:"请输入新的文件名",value:K,onChange:e=>Q(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&ed()},disabled:X,autoFocus:!0}),(0,a.jsxs)(h.Group,{justify:"flex-end",gap:"sm",children:[(0,a.jsx)(I.Button,{variant:"outline",onClick:()=>{q(!1),V(null),Q("")},disabled:X,children:"取消"}),(0,a.jsx)(I.Button,{onClick:ed,disabled:!K.trim()||K===(null==$?void 0:$.name)||X,loading:X,children:"确认"})]})]})})]})}n(83572),n(6396);var G=n(11681);function R(){let e=(0,f.k)(e=>e.wallet),t=(0,f.k)(e=>e.notes),n=(0,f.k)(e=>e.notesQuery),o=(0,f.k)(e=>e.setItem),[s,c]=(0,i.useState)(!1),[u,m]=(0,i.useState)(100),[g,{open:j,close:D}]=(0,G.useDisclosure)(!1),[z,B]=(0,i.useState)(""),[N,L]=(0,i.useState)(""),[O,R]=(0,i.useState)(!1),[W,{open:U,close:Y}]=(0,G.useDisclosure)(!1),[_,q]=(0,i.useState)(null),[$,V]=(0,i.useState)(""),[K,Q]=(0,i.useState)(""),[X,J]=(0,i.useState)(!1),Z=t=>{let n=new URL(window.location.origin);return n.pathname="/note/",n.searchParams.set("uid",(null==e?void 0:e.address)||""),n.searchParams.set("name",t.name),n.searchParams.set("dot",M.FH.getUri()),n.hash=t.cid,n.href},ee=t?t.filter(e=>p.A.pinyin(e.name,n,0)):[],et=ee.slice(0,u),en=ee.length>u;(0,i.useEffect)(()=>{m(100)},[n]);let ea=async()=>{try{c(!0);let e=(await M.FH.post("/files/.note")).data;if(e){let t=e.map(e=>({name:e.name,cid:e.cid["/"]}));o("notes",t)}}catch(e){H.notifications.show({message:e.message,color:"red"})}finally{c(!1)}},ei=async()=>{let e=z.trim();if(!e)return void L("请输入笔记名称");if(null==t?void 0:t.some(t=>t.name===e))return void L("笔记名称已存在");try{var n;R(!0);let t=new FormData,a=new Blob([""],{type:"text/markdown"});t.append("file",a,"index.md"),t.append("path","/.note/".concat(e,"/index.md")),(null==(n=(await M.FH.put("/files.upload",t)).data)?void 0:n.cid)&&(H.notifications.show({color:"green",message:"笔记创建成功"}),await ea(),D(),B(""))}catch(e){H.notifications.show({color:"red",message:e instanceof Error?e.message:"创建失败，请重试"})}finally{R(!1)}},er=async()=>{if(!_)return;let e=$.trim();if(!e)return void Q("请输入笔记名称");if(e===_.name)return void Y();if(null==t?void 0:t.some(t=>t.name===e))return void Q("笔记名称已存在");try{J(!0),await M.FH.put("/files.rename",{oldName:"/.note/".concat(_.name),newName:"/.note/".concat(e)}),H.notifications.show({color:"green",message:"重命名成功"}),await ea(),Y()}catch(e){H.notifications.show({color:"red",message:e instanceof Error?e.message:"重命名失败"})}finally{J(!1)}},eo=async e=>{if(confirm('确定要删除笔记"'.concat(e.name,'"吗？此操作不可撤销。')))try{await M.FH.delete("/files/.note/".concat(e.name)),H.notifications.show({color:"green",message:"删除成功"}),await ea()}catch(e){H.notifications.show({color:"red",message:e instanceof Error?e.message:"删除失败"})}},el=()=>{B(""),L(""),D()},es=()=>{q(null),V(""),Q(""),Y()};return(0,i.useEffect)(()=>{e&&!t&&ea()},[e,t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x.Stack,{gap:"md",p:"md",children:[(0,a.jsx)(y.Center,{children:(0,a.jsx)(v.TextInput,{placeholder:"搜索笔记名称",value:n,onChange:e=>o("notesQuery",e.currentTarget.value),size:"md",radius:"md",w:400,styles:{input:{textAlign:"center"}}})}),(0,a.jsxs)(h.Group,{justify:"space-between",align:"center",pos:"relative",children:[(0,a.jsx)(w.LoadingOverlay,{visible:s,overlayProps:{backgroundOpacity:0},loaderProps:{type:"dots"}}),(0,a.jsxs)(k.Badge,{variant:"light",size:"lg",children:[n?"显示 ".concat(et.length," / ").concat(ee.length," (总共 ").concat((null==t?void 0:t.length)||0,")"):"显示 ".concat(et.length," / ").concat((null==t?void 0:t.length)||0)," ","个笔记"]}),(0,a.jsxs)(h.Group,{children:[(0,a.jsx)(b.Tooltip,{label:"刷新",children:(0,a.jsx)(r.ActionIcon,{size:"lg",onClick:ea,color:"blue",disabled:!e,children:(0,a.jsx)(P.A,{size:18})})}),(0,a.jsx)(b.Tooltip,{label:"新笔记",children:(0,a.jsx)(r.ActionIcon,{size:"lg",onClick:j,color:"green",disabled:!e,children:(0,a.jsx)(F,{size:18})})})]})]}),n&&0===ee.length?(0,a.jsxs)(x.Stack,{align:"center",justify:"center",h:200,children:[(0,a.jsx)(l.Text,{size:"lg",c:"dimmed",children:"未找到笔记"}),(0,a.jsx)(l.Text,{size:"sm",c:"dimmed",children:"尝试用其他关键词搜索"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Grid,{gutter:"md",children:et.map(e=>(0,a.jsx)(T.Grid.Col,{span:{base:12,xs:6,sm:4,md:3,lg:3,xl:2},children:(0,a.jsx)(C.Card,{radius:"md",withBorder:!0,children:(0,a.jsxs)(h.Group,{justify:"space-between",wrap:"nowrap",gap:4,children:[(0,a.jsx)(l.Text,{flex:1,fw:500,lineClamp:1,component:d(),href:Z(e),children:e.name}),(0,a.jsxs)(A.Menu,{shadow:"md",width:120,children:[(0,a.jsx)(A.Menu.Target,{children:(0,a.jsx)(r.ActionIcon,{variant:"subtle",color:"gary",children:(0,a.jsx)(E,{size:14})})}),(0,a.jsxs)(A.Menu.Dropdown,{children:[(0,a.jsx)(A.Menu.Item,{leftSection:"\uD83D\uDCD6",onClick:()=>(e=>{let t=Z(e);window.open(t)})(e),children:"打开"}),(0,a.jsx)(A.Menu.Item,{leftSection:"\uD83D\uDCE4",onClick:()=>(e=>{let t=Z(e);navigator.share?navigator.share({title:"笔记: ".concat(e.name),url:t}):navigator.clipboard.writeText(t).then(()=>{H.notifications.show({color:"green",message:"分享链接已复制到剪贴板"})})})(e),children:"分享"}),(0,a.jsx)(A.Menu.Item,{leftSection:"✏️",onClick:()=>{q(e),V(e.name),Q(""),U()},children:"重命名"}),(0,a.jsx)(A.Menu.Divider,{}),(0,a.jsx)(A.Menu.Item,{leftSection:"\uD83D\uDDD1️",onClick:()=>eo(e),children:"删除"})]})]})]})})},e.name))}),en&&(0,a.jsx)(y.Center,{children:(0,a.jsxs)(I.Button,{variant:"light",onClick:()=>{m(e=>e+100)},size:"md",children:["继续加载 (",ee.length-u," 个剩余)"]})})]})]}),!e&&(0,a.jsx)(y.Center,{children:(0,a.jsx)(I.Button,{variant:"gradient",component:d(),href:"/login",children:"去登录"})}),(0,a.jsx)(S.Modal,{opened:g,onClose:el,title:"创建新笔记",centered:!0,children:(0,a.jsxs)(x.Stack,{gap:"md",children:[(0,a.jsx)(v.TextInput,{placeholder:"请输入笔记名称",value:z,onChange:e=>{B(e.currentTarget.value),L("")},error:N,autoFocus:!0}),(0,a.jsxs)(h.Group,{justify:"flex-end",children:[(0,a.jsx)(I.Button,{variant:"default",onClick:el,children:"取消"}),(0,a.jsx)(I.Button,{loading:O,onClick:ei,children:"创建"})]})]})}),(0,a.jsx)(S.Modal,{opened:W,onClose:es,title:"重命名笔记",centered:!0,children:(0,a.jsxs)(x.Stack,{gap:"md",children:[(0,a.jsx)(v.TextInput,{placeholder:"请输入新的笔记名称",value:$,onChange:e=>{V(e.currentTarget.value),Q("")},error:K,autoFocus:!0}),(0,a.jsxs)(h.Group,{justify:"flex-end",children:[(0,a.jsx)(I.Button,{variant:"default",onClick:es,children:"取消"}),(0,a.jsx)(I.Button,{loading:X,onClick:er,children:"确认"})]})]})})]})}let W=JSON.parse('["没有调查，就没有发言权","我为人人，人人为我","具体问题，具体分析","不同条件，不同结果","实践是检验真理的唯一标准","从最坏处着眼，往最好处努力","见微知著","读史以明志，鉴往而知来","爱的本质是付出","团结 紧张 严肃 活泼","出发就能到达","没说不行就是可以","真正的勇士敢于直面惨淡的人生和淋漓的鲜血","君子用人如器，各取所长","合抱之木，生于毫末","九层之台，起于累土","千里之行，始于足下","出发就能到达","人生的最高法则是什么:斗争","广厦千间，夜眠仅需六尺","不积跬步，无以至千里也","你若一往无前，自有人紧跟相随","家财万贯，日食不过三餐","碌碌百载，终归仅需寸土","芸芸众生，遍寻不过一人","把事情变简单","凡夫畏果，菩萨畏因","光灿烂时，星已死灭","聪明是一种天赋，而善良是一种选择","你打你的，我打我的","以斗争求和平则和平存，以妥协求和平则和平亡","抓住主要矛盾不放手","活成自己喜欢的样子"]');var U=n(91590),Y=n(93751),_=n(53776),q=n(5821),$=n(91082);function V(){let[e,t]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=Math.floor(Math.random()*W.length);t(W[e])},[]);let n=(0,$.B)(),r=async()=>{o.current&&(await n.initViewer(o.current)).setMarkdown("IPFS (InterPlanetary File System) 是一种点对点的分布式文件系统协议。旨在创建一个更开放、更快速、更安全、更持久化的网络，以取代或补充目前主导互联网的 http 协议。\r\n\r\n**核心思想：从“位置寻址”到“内容寻址”**\r\n\r\n- IPFS: 你通过一个内容本身的唯一加密哈希值 (称为 CID - Content Identifier) 来访问内容。这个哈希值就像是内容的数字指纹，完全由内容本身计算得来。只要内容不变，哈希值就不变。这称为 “内容寻址” - 你通过内容本身（其指纹）请求内容。\r\n")},o=(0,i.useRef)(null);return(0,i.useEffect)(()=>{r()},[]),(0,a.jsxs)(U.Container,{py:"md",children:[(0,a.jsx)(Y.Title,{size:"h3",children:"Most.Box - 如影随形"}),(0,a.jsx)(l.Text,{c:"dimmed",children:"——「轻松简单、开源免费、部署自己的云盘」"}),(0,a.jsx)(_.Divider,{my:"md"}),(0,a.jsxs)(q.Accordion,{my:"md",variant:"separated",defaultValue:"IPFS",children:[(0,a.jsxs)(q.Accordion.Item,{value:"IPFS",children:[(0,a.jsx)(q.Accordion.Control,{icon:"\uD83C\uDF4E",children:"1. IPFS"}),(0,a.jsx)(q.Accordion.Panel,{children:(0,a.jsx)(u.Box,{ref:o})})]}),(0,a.jsxs)(q.Accordion.Item,{value:"IPV6",children:[(0,a.jsx)(q.Accordion.Control,{icon:"\uD83C\uDF4C",children:"2. 公网 IPV6"}),(0,a.jsx)(q.Accordion.Panel,{children:"Crisp and refreshing fruit. Apples are known for their versatility and nutritional benefits. They come in a variety of flavors and are great for snacking, baking, or adding to salads."})]}),(0,a.jsxs)(q.Accordion.Item,{value:"DOT",children:[(0,a.jsx)(q.Accordion.Control,{icon:"\uD83E\uDD66",children:"3. 运行节点"}),(0,a.jsx)(q.Accordion.Panel,{children:"Crisp and refreshing fruit. Apples are known for their versatility and nutritional benefits. They come in a variety of flavors and are great for snacking, baking, or adding to salads."})]})]}),(0,a.jsx)(Y.Title,{size:"h3",children:"使用说明"}),(0,a.jsx)(l.Text,{c:"dimmed",children:"——「回归数据存储本质」"}),(0,a.jsx)(_.Divider,{my:"md"}),(0,a.jsxs)(q.Accordion,{my:"md",variant:"separated",children:[(0,a.jsxs)(q.Accordion.Item,{value:"DOT",children:[(0,a.jsx)(q.Accordion.Control,{icon:"\uD83E\uDD95",children:"节点切换"}),(0,a.jsx)(q.Accordion.Panel,{children:"Crisp and refreshing fruit. Apples are known for their versatility and nutritional benefits. They come in a variety of flavors and are great for snacking, baking, or adding to salads."})]}),(0,a.jsxs)(q.Accordion.Item,{value:"NOTE",children:[(0,a.jsx)(q.Accordion.Control,{icon:"✏️",children:"笔记"}),(0,a.jsx)(q.Accordion.Panel,{children:"Crisp and refreshing fruit. Apples are known for their versatility and nutritional benefits. They come in a variety of flavors and are great for snacking, baking, or adding to salads."})]}),(0,a.jsxs)(q.Accordion.Item,{value:"IPFS",children:[(0,a.jsx)(q.Accordion.Control,{icon:"\uD83D\uDCC2",children:"文件系统"}),(0,a.jsx)(q.Accordion.Panel,{children:"Crisp and refreshing fruit. Apples are known for their versatility and nutritional benefits. They come in a variety of flavors and are great for snacking, baking, or adding to salads."})]})]}),(0,a.jsx)(_.Divider,{my:"md"}),(0,a.jsx)(h.Group,{justify:"flex-end",children:(0,a.jsxs)(l.Text,{c:"dimmed",children:["——「",e,"」"]})})]})}n(44017);var K=n(80630);let Q=e=>{let{homeTab:t}=e,n=(0,f.k)(e=>e.wallet),o=(0,f.k)(e=>e.setItem),l=(0,f.k)(e=>e.filesPath),c=(0,i.useRef)(null),d=async e=>{var t,n;let a=null==(t=e.target.files)?void 0:t[0];if(!a)return;if(!a.name.endsWith(".tar"))return void H.notifications.show({title:"格式错误",message:"只支持 .tar 格式的压缩包",color:"red"});let i=H.notifications.show({title:"导入中",message:"正在解压并导入文件...",color:"blue",autoClose:!1});try{let e=new FormData;e.append("file",a),e.append("path",l);let t=await M.FH.put("/files.import",e),n=t.data.name,r=a.name.replace(/\.tar$/,""),s=l?"".concat(l,"/").concat(n):n,c=l?"".concat(l,"/").concat(r):r;await M.FH.put("/files.rename",{oldName:"/".concat(s),newName:"/".concat(c)}),H.notifications.update({id:i,title:"导入成功",message:t.data.message,color:"green",autoClose:!0});try{let e=await M.FH.post("/files/".concat(l));o("files",e.data)}catch(e){console.error(e)}}catch(t){let e=(null==t||null==(n=t.response)?void 0:n.data)||"导入失败，请重试";H.notifications.update({id:i,title:"导入失败",message:e,color:"red",autoClose:!0})}e.target.value=""};return"file"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(A.Menu,{shadow:"md",children:[(0,a.jsx)(A.Menu.Target,{children:(0,a.jsx)(r.ActionIcon,{variant:"transparent",color:"--text-color",children:(0,a.jsx)(s.I,{name:"More",size:24})})}),(0,a.jsx)(A.Menu.Dropdown,{children:(0,a.jsx)(A.Menu.Item,{leftSection:"\uD83D\uDCC1",onClick:()=>{var e;null==(e=c.current)||e.click()},disabled:!n,children:"导入 tar 压缩包"})})]}),(0,a.jsx)("input",{ref:c,type:"file",accept:".tar",style:{display:"none"},onChange:d})]}):(0,a.jsx)(r.ActionIcon,{variant:"transparent",color:"--text-color",onClick:()=>H.notifications.show({message:"没有更多"}),children:(0,a.jsx)(s.I,{name:"More",size:24})})};function X(){let[e,t]=(0,i.useState)(null),n=(0,f.k)(e=>e.dotAPI);(0,i.useEffect)(()=>{t(localStorage.getItem("homeTab")||"explore")},[]);let c=(0,i.useMemo)(()=>{try{return new URL(n).hostname.toUpperCase()}catch(e){return"MOST.BOX"}},[n]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(K.AppHeader,{title:c,left:(0,a.jsx)(r.ActionIcon,{variant:"transparent",color:"--text-color",component:d(),href:"/dot",children:(0,a.jsx)(s.I,{name:"Earth",size:24})}),right:(0,a.jsx)(Q,{homeTab:e})}),(0,a.jsxs)(o.Tabs,{id:"page-home",variant:"pills",radius:0,value:e,onChange:e=>{t(e),localStorage.setItem("homeTab",e||"explore")},children:[(0,a.jsx)(o.Tabs.Panel,{keepMounted:!0,value:"file",children:(0,a.jsx)(O,{})}),(0,a.jsx)(o.Tabs.Panel,{keepMounted:!0,value:"note",children:(0,a.jsx)(R,{})}),(0,a.jsx)(o.Tabs.Panel,{keepMounted:!0,value:"explore",children:(0,a.jsx)(V,{})}),(0,a.jsx)(o.Tabs.Panel,{keepMounted:!0,value:"mine",children:(0,a.jsx)(g,{})}),(0,a.jsxs)(o.Tabs.List,{children:[(0,a.jsxs)(o.Tabs.Tab,{value:"file",children:[(0,a.jsx)(s.I,{name:"file"===e?"FileActive":"File"}),(0,a.jsx)(l.Text,{children:"文件"})]}),(0,a.jsxs)(o.Tabs.Tab,{value:"note",children:[(0,a.jsx)(s.I,{name:"note"===e?"NoteActive":"Note"}),(0,a.jsx)(l.Text,{children:"笔记"})]}),(0,a.jsxs)(o.Tabs.Tab,{value:"explore",children:[(0,a.jsx)(s.I,{name:"explore"===e?"ExploreActive":"Explore"}),(0,a.jsx)(l.Text,{children:"探索"})]}),(0,a.jsxs)(o.Tabs.Tab,{value:"mine",children:[(0,a.jsx)(s.I,{name:"mine"===e?"MineActive":"Mine"}),(0,a.jsx)(l.Text,{children:"我的"})]})]})]})]})}},9482:(e,t,n)=>{"use strict";n.d(t,{A:()=>k});var a=n(70358),i=n(30167),r=n(88413),o=n(19396),l=n(96842),s=n(42995),c=n(3648),d=n(4673),u=n(59909),h=n(30832),m=n.n(h),x=n(99758),f=n.n(x);n(38464);var p=n(76920),g=n.n(p);m().extend(g()),m().extend(f()),m().locale("zh-cn");let j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYMMDD",n=m()().format(t),a=sessionStorage.getItem("fingerprint");if(!a)throw Error("请先获取设备指纹");let i=[location.origin,a].join("/"),{public_key:r,private_key:o}=(0,d.BP)(n,i);return(0,d.yO)(JSON.stringify(e),r,o)},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYMMDD",n=m()().format(t),a=sessionStorage.getItem("fingerprint");if(!a)throw Error("请先获取设备指纹");let i=[location.origin,a].join("/"),{public_key:r,private_key:o}=(0,d.BP)(n,i),l=(0,d.OM)(e,r,o);if(l)try{let e=JSON.parse(l);if(e.address)return e}catch(e){console.error(e)}return console.log("jwt 过期"),null},v=async e=>{let t=Date.now().toString(),n=r.QX.fromPhrase(e.mnemonic),a=await n.signMessage(t);localStorage.token=[e.address,t,a].join(".")},w=e=>{try{var t;let n=j(e);if((null==(t=y(n))?void 0:t.address)===e.address)return localStorage.setItem("jwt",n),v(e),e}catch(e){console.log("登录失败:",e)}return null},k={avatar:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Most";return(0,l.gn)(s,{seed:"most.box@"+e,flip:!0,backgroundType:["gradientLinear"]}).toDataUri()},avatarCID:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Most";return(0,l.gn)(c,{seed:"most.box#"+e,flip:!0,backgroundType:["gradientLinear","solid"]}).toDataUri()},formatTime:e=>{let t;if(!e)return"";let n=m()(Number(e)),a=n.hour();return t=a>=0&&a<3?"凌晨":a>=3&&a<6?"拂晓":a>=6&&a<9?"早晨":a>=9&&a<12?"上午":a>=12&&a<15?"下午":a>=15&&a<18?"傍晚":a>=18&&a<21?"薄暮":"深夜",n.format("YYYY年M月D日 ".concat(t,"h点m分"))},formatDate:e=>{let t=m()(Number(e)),n=m()();return t.isSame(n,"day")?t.format("HH:mm"):t.isSame(n.subtract(1,"day"),"day")?"昨天 ".concat(t.format("HH:mm")):t.isoWeek()===n.isoWeek()?"".concat(["周日","周一","周二","周三","周四","周五","周六"][t.day()]," ").concat(t.format("HH:mm")):t.year()===n.year()?t.format("M月D日"):t.format("YY年M月D日")},formatAddress:e=>e?e.slice(0,6)+"..."+e.slice(-4):"",enBase64:e=>(0,a.W)((0,i.YW)(e)),deBase64:e=>(0,i._v)((0,a.y)(e)),createJWT:j,verifyJWT:y,login:(e,t)=>w((0,d.BP)(e,t,"I know loss mnemonic will lose my wallet.")),loginSave:w,ZeroAddress:o.j,createToken:v,pinyin:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(t.length<n)return!1;if(e.toLowerCase().includes(t.toLowerCase()))return!0;let a=(0,u.YW)(e,t,{continuous:!0});return!!a&&!!(a.length>=n)}}},29439:()=>{},41698:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(86467).A)("outline","refresh","Refresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]])},44017:()=>{},48764:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});var a=n(9482),i=n(65453),r=n(54205),o=n(6942);let l=(0,i.v)((e,t)=>({wallet:void 0,initWallet(n){e({fingerprint:n});let i=localStorage.getItem("jwt");if(i){let n=a.A.verifyJWT(i);n?(a.A.createToken(n),e({wallet:n})):t().exit()}},async updateDot(t){try{let n=new URL(t).origin,a=new AbortController,i=setTimeout(()=>a.abort(),3e3),o=await fetch(n+"/api.dot",{signal:a.signal});if(clearTimeout(i),!o.ok)throw Error("HTTP error! status: ".concat(o.status));let l=await o.json();r.FH.defaults.baseURL=n,e({dotAPI:n}),localStorage.setItem("dotAPI",n);let s=l.CIDs[0];return n.endsWith(":1976")&&(s=n.slice(0,-5)+":8080"),s&&(e({dotCID:s}),localStorage.setItem("dotCID",s)),e({notes:void 0,files:void 0}),l.APIs}catch(n){o.notifications.show({title:"节点切换失败",message:t,color:"red"}),console.info(n),e({dotAPI:r.FH.defaults.baseURL||""})}return null},setItem:(t,n)=>e(e=>({...e,[t]:n})),firstPath:"",dotAPI:r.MN,dotCID:r.AF,dotNodes:[],notes:void 0,notesQuery:"",files:void 0,filesPath:"",fingerprint:"",exit(){e({wallet:void 0,notes:void 0,files:void 0}),localStorage.removeItem("jwt"),localStorage.removeItem("token")}}))},54205:(e,t,n)=>{"use strict";n.d(t,{AF:()=>r,C2:()=>o,FH:()=>l,MN:()=>i});var a=n(23464);let i="https://dot.most.red",r="https://cid.most.red",o="https://most.box/auth/callback",l=a.A.create({baseURL:i});l.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=t),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>("ERR_NETWORK"===e.code&&(window.location.href="/dot"),Promise.reject(e)))},54395:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(86467).A)("outline","x","X",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]])},65453:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var a=n(12115);let i=e=>{let t,n=new Set,a=(e,a)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=a?a:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,r={setState:a,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(a,i,r);return r},r=e=>{let t=(e=>e?i(e):i)(e),n=e=>(function(e,t=e=>e){let n=a.useSyncExternalStore(e.subscribe,a.useCallback(()=>t(e.getState()),[e,t]),a.useCallback(()=>t(e.getInitialState()),[e,t]));return a.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},o=e=>e?r(e):r},69570:()=>{},71281:()=>{},83572:()=>{},86467:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(12115),i={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};let r=(e,t,n,r)=>{let o=(0,a.forwardRef)((n,o)=>{let{color:l="currentColor",size:s=24,stroke:c=2,title:d,className:u,children:h,...m}=n;return(0,a.createElement)("svg",{ref:o,...i[e],width:s,height:s,className:["tabler-icon","tabler-icon-".concat(t),u].join(" "),..."filled"===e?{fill:l}:{strokeWidth:c,stroke:l},...m},[d&&(0,a.createElement)("title",{key:"svg-title"},d),...r.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...Array.isArray(h)?h:[h]])});return o.displayName="".concat(n),o}},91082:(e,t,n)=>{"use strict";n.d(t,{B:()=>h});var a=n(54205),i=n(11023);let r=null,o=()=>(r||(r=Promise.all([Promise.all([n.e(774),n.e(5004),n.e(6239)]).then(n.bind(n,4847)),n.e(611).then(n.t.bind(n,67014,23)),Promise.all([n.e(774),n.e(5004),n.e(6239),n.e(5266)]).then(n.bind(n,35266))])),r),l=async(e,t)=>{let n=new FormData,i=new URLSearchParams(location.search).get("name"),r="".concat(e.size,"-").concat(e.name);n.append("file",e),n.append("path","/.note/".concat(i,"/").concat(r));let o=(await a.FH.put("/files.upload",n)).data.cid;t(o?"/ipfs/".concat(o,"?filename=").concat(r):"",r)},s=()=>({toHTMLRenderers:{math(e){let t="\\documentclass{article}\n\\begin{document}\n$"+e.literal+"$\n\\end{document}",n=new i.F8({hyphenate:!1}),{body:a}=(0,i.qg)(t,{generator:n}).htmlDocument();return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:a.innerHTML},{type:"closeTag",tagName:"div",outerNewLine:!0}]}}}),c=e=>({theme:"light",language:"zh-CN",usageStatistics:!1,extendedAutolinks:!0,linkAttributes:{target:"_blank"},plugins:[e,s],customHTMLRenderer:{image(e,t){var n;t.skipChildren();let a=e.destination,i=(null==(n=e.firstChild)?void 0:n.literal)||"",r=localStorage.getItem("dotCID");return{type:"openTag",tagName:"img",attributes:{src:a.startsWith("/ipfs/")?r+a:a,alt:i,loading:"lazy"},selfClose:!0}}},customHTMLSanitizer:e=>e}),d=async e=>{let[t,n]=await o(),a=new t.default({el:e,height:"100%",initialValue:"",initialEditType:"wysiwyg",previewStyle:"vertical",placeholder:"\\n✍️ 开始记录你的灵感",...c(n.default),hooks:{addImageBlobHook:l},toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["codeblock",{name:"math",tooltip:"插入LaTeX公式",command:"math",text:"∑",className:"toastui-editor-toolbar-icons",style:{backgroundImage:"none",fontSize:"18px"}},{name:"file",tooltip:"插入文件",command:"file",text:"\uD83D\uDCC2",className:"toastui-editor-toolbar-icons",style:{backgroundImage:"none",fontSize:"18px"}}],["scrollSync"]]}),i=()=>(a.replaceSelection("\n$$math\na^{2}+b^{2}=c^{2}\n$$\n\nLaTeX公式编辑 latexlive.com\n"),!0);a.addCommand("wysiwyg","math",i),a.addCommand("markdown","math",i);let r=()=>(localStorage.setItem("homeTab","file"),window.open("/"),!0);return a.addCommand("wysiwyg","file",r),a.addCommand("markdown","file",r),a},u=async e=>{let[t,n]=await o(),a=t.default,i=n.default;return a.factory({el:e,viewer:!0,...c(i)})},h=()=>({initEditor:d,initViewer:u})},92826:(e,t,n)=>{Promise.resolve().then(n.bind(n,7534))},95697:e=>{function t(e){return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=95697,e.exports=t}},e=>{e.O(0,[2707,8198,2545,642,1257,8805,8413,3464,6634,3722,4956,4726,6431,7244,7361,6305,1697,3839,630,8441,5964,7358],()=>e(e.s=92826)),_N_E=e.O()}]);