(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6961,7177],{13297:(e,n,s)=>{"use strict";s.d(n,{k:()=>v});var r=s(56612),t=s(25959),i=s(59126),o=s(53987),l=s(21794),d=s(81216),m=s(38798),a=s(41524),h=s(76476),b=s(29311);let v=(0,t.v)((e,n)=>({wallet:void 0,setWallet(s){e({wallet:s});let{initRootCID:r,initBalance:t}=n();r(),t()},firstPath:"",notes:void 0,notesQuery:"",nodeDark:"",files:void 0,filesPath:"",fingerprint:"",exit(){e({wallet:void 0,notes:void 0,files:void 0}),localStorage.removeItem("jwt"),localStorage.removeItem("token")},rootCID:"",async updateRootCID(){let{wallet:s}=n();if(s){let{RPC:n}=b.E.getState(),t=new d.FR(n),i=m.QX.fromPhrase(s.mnemonic).connect(t),h=new a.NZ(o.i5,o.yc,i),[v,P]=await Promise.all([l.FH.post("/files.cid"),h.getCID(s.address)]),p=v.data,c=(0,r.OM)(P,s.public_key,s.private_key);if(p&&p!==c){let n=(0,r.yO)(p,s.public_key,s.private_key),t=await h.setCID(n);await t.wait(),e({rootCID:p})}}},async initRootCID(){let{wallet:s}=n();if(!s)return console.log("未登录");let{RPC:t}=b.E.getState(),m=new d.FR(t),h=new a.NZ(o.i5,o.yc,m),[v,P]=await Promise.all([l.FH.post("/files.cid"),h.getCID(s.address)]),p=v.data,c=(0,r.OM)(P,s.public_key,s.private_key);c&&(c===p||(await l.FH.put("/files.import/".concat(c))).data.ok?e({rootCID:c}):i.notifications.show({message:"根目录 CID 导入失败",color:"red"}))},balance:"",async initBalance(){let{wallet:s}=n();if(!s)return console.log("未登录");let{RPC:r}=b.E.getState(),t=new d.FR(r),i=await t.getBalance(s.address);e({balance:(0,h.ck)(i)}),0===Number(i)&&l.FH.post("/api.testnet.gas")},setItem:(n,s)=>e(e=>({...e,[n]:s}))}))},16228:()=>{},21794:(e,n,s)=>{"use strict";s.d(n,{C2:()=>t,FH:()=>i});var r=s(95125);let t="https://most.box/auth/callback",i=r.A.create({baseURL:""});i.interceptors.request.use(e=>{let n=localStorage.getItem("token");return n&&(e.headers.Authorization=n),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>Promise.reject(e))},29311:(e,n,s)=>{"use strict";s.d(n,{E:()=>m,P:()=>d});var r=s(25959),t=s(53987),i=s(21794),o=s(81216),l=s(41524);let d=e=>new Promise(n=>{if(!e.APIs||0===e.APIs.length)return void n({isOnline:!1,responseTime:0});let s=e.APIs[0],r=Date.now(),t=new AbortController,i=setTimeout(()=>t.abort(),2e3);fetch("".concat(s,"/api.dot"),{signal:t.signal,mode:"cors"}).then(()=>{clearTimeout(i),n({isOnline:!0,responseTime:Date.now()-r})}).catch(()=>{clearTimeout(i),n({isOnline:!1,responseTime:Date.now()-r})})}),m=(0,r.v)((e,n)=>({dotAPI:"",dotCID:"",dotNodes:[],fetchNodes:async e=>{let{RPC:s}=n(),r=new o.FR(e||s),i=new l.NZ(t.MT,t.Wf,r),[d,m,a,h,b]=await i.getAllDots();return d.map((e,n)=>({address:e,name:m[n]||"节点 ".concat(n+1),APIs:a[n]||[],CIDs:h[n]||[],lastUpdate:Number(b[n])}))},async updateDot(n){try{let s=new URL(n).origin,r=(await i.FH.get("/api.dot",{baseURL:s})).data;i.FH.defaults.baseURL=s,e({dotAPI:s}),localStorage.setItem("dotAPI",s);let t=r.CIDs[0];return s.endsWith(":1976")&&(t=s.slice(0,-5)+":8080"),t&&(e({dotCID:t}),localStorage.setItem("dotCID",t)),r.APIs}catch(n){console.info(n),e({dotAPI:i.FH.defaults.baseURL||""})}return null},network:"testnet",RPC:t.WC.testnet.rpc,Explorer:t.WC.testnet.explorer,setNetwork(n){let s=t.WC[n];e({network:n,RPC:s.rpc,Explorer:s.explorer}),localStorage.setItem("network",n)},setItem:(n,s)=>e(e=>({...e,[n]:s}))}))},43606:()=>{},48492:(e,n,s)=>{Promise.resolve().then(s.bind(s,33380)),Promise.resolve().then(s.bind(s,44947)),Promise.resolve().then(s.bind(s,45247)),Promise.resolve().then(s.bind(s,44503)),Promise.resolve().then(s.bind(s,44629)),Promise.resolve().then(s.bind(s,58380)),Promise.resolve().then(s.bind(s,17764)),Promise.resolve().then(s.bind(s,23924)),Promise.resolve().then(s.bind(s,23188)),Promise.resolve().then(s.bind(s,41970)),Promise.resolve().then(s.bind(s,77147)),Promise.resolve().then(s.bind(s,22756)),Promise.resolve().then(s.bind(s,75802)),Promise.resolve().then(s.bind(s,47424)),Promise.resolve().then(s.bind(s,82422)),Promise.resolve().then(s.bind(s,57486)),Promise.resolve().then(s.bind(s,44190)),Promise.resolve().then(s.bind(s,32608)),Promise.resolve().then(s.bind(s,28316)),Promise.resolve().then(s.bind(s,11592)),Promise.resolve().then(s.bind(s,8358)),Promise.resolve().then(s.bind(s,5480)),Promise.resolve().then(s.bind(s,55302)),Promise.resolve().then(s.bind(s,99825)),Promise.resolve().then(s.bind(s,17998)),Promise.resolve().then(s.bind(s,72110)),Promise.resolve().then(s.bind(s,64153)),Promise.resolve().then(s.bind(s,49111)),Promise.resolve().then(s.bind(s,96778)),Promise.resolve().then(s.bind(s,98929)),Promise.resolve().then(s.bind(s,72995)),Promise.resolve().then(s.bind(s,44634)),Promise.resolve().then(s.bind(s,7487)),Promise.resolve().then(s.bind(s,40387)),Promise.resolve().then(s.bind(s,22797)),Promise.resolve().then(s.bind(s,13097)),Promise.resolve().then(s.bind(s,67317)),Promise.resolve().then(s.bind(s,50328)),Promise.resolve().then(s.bind(s,64894)),Promise.resolve().then(s.bind(s,60775)),Promise.resolve().then(s.bind(s,13484)),Promise.resolve().then(s.bind(s,42683)),Promise.resolve().then(s.bind(s,2679)),Promise.resolve().then(s.bind(s,76167)),Promise.resolve().then(s.bind(s,72451)),Promise.resolve().then(s.bind(s,41417)),Promise.resolve().then(s.bind(s,86029)),Promise.resolve().then(s.bind(s,94766)),Promise.resolve().then(s.bind(s,97186)),Promise.resolve().then(s.bind(s,9317)),Promise.resolve().then(s.bind(s,82074)),Promise.resolve().then(s.bind(s,68861)),Promise.resolve().then(s.bind(s,96394)),Promise.resolve().then(s.bind(s,67391)),Promise.resolve().then(s.bind(s,34292)),Promise.resolve().then(s.bind(s,89536)),Promise.resolve().then(s.bind(s,50872)),Promise.resolve().then(s.bind(s,64206)),Promise.resolve().then(s.bind(s,60640)),Promise.resolve().then(s.bind(s,90844)),Promise.resolve().then(s.bind(s,16464)),Promise.resolve().then(s.bind(s,38762)),Promise.resolve().then(s.bind(s,79220)),Promise.resolve().then(s.bind(s,43174)),Promise.resolve().then(s.bind(s,81288)),Promise.resolve().then(s.bind(s,55694)),Promise.resolve().then(s.bind(s,69984)),Promise.resolve().then(s.bind(s,30096)),Promise.resolve().then(s.bind(s,89198)),Promise.resolve().then(s.bind(s,7186)),Promise.resolve().then(s.bind(s,18296)),Promise.resolve().then(s.bind(s,47152)),Promise.resolve().then(s.bind(s,21150)),Promise.resolve().then(s.bind(s,65246)),Promise.resolve().then(s.bind(s,13564)),Promise.resolve().then(s.bind(s,69902)),Promise.resolve().then(s.bind(s,14953)),Promise.resolve().then(s.bind(s,13877)),Promise.resolve().then(s.bind(s,93852)),Promise.resolve().then(s.bind(s,57779)),Promise.resolve().then(s.bind(s,71165)),Promise.resolve().then(s.bind(s,14604)),Promise.resolve().then(s.bind(s,15388)),Promise.resolve().then(s.bind(s,7738)),Promise.resolve().then(s.bind(s,97245)),Promise.resolve().then(s.bind(s,46219)),Promise.resolve().then(s.bind(s,94658)),Promise.resolve().then(s.bind(s,18060)),Promise.resolve().then(s.bind(s,35558)),Promise.resolve().then(s.bind(s,55704)),Promise.resolve().then(s.bind(s,96710)),Promise.resolve().then(s.bind(s,37494)),Promise.resolve().then(s.bind(s,36628)),Promise.resolve().then(s.bind(s,32129)),Promise.resolve().then(s.bind(s,73524)),Promise.resolve().then(s.bind(s,44635)),Promise.resolve().then(s.bind(s,74124)),Promise.resolve().then(s.bind(s,85784)),Promise.resolve().then(s.bind(s,18256)),Promise.resolve().then(s.bind(s,67661)),Promise.resolve().then(s.bind(s,64637)),Promise.resolve().then(s.bind(s,56278)),Promise.resolve().then(s.bind(s,45689)),Promise.resolve().then(s.bind(s,20981)),Promise.resolve().then(s.bind(s,98757)),Promise.resolve().then(s.bind(s,23967)),Promise.resolve().then(s.bind(s,67257)),Promise.resolve().then(s.bind(s,14777)),Promise.resolve().then(s.bind(s,17741)),Promise.resolve().then(s.bind(s,36035)),Promise.resolve().then(s.bind(s,15155)),Promise.resolve().then(s.bind(s,16939)),Promise.resolve().then(s.bind(s,32349)),Promise.resolve().then(s.bind(s,61576)),Promise.resolve().then(s.bind(s,67044)),Promise.resolve().then(s.bind(s,70847)),Promise.resolve().then(s.bind(s,64256)),Promise.resolve().then(s.bind(s,77834)),Promise.resolve().then(s.bind(s,70691)),Promise.resolve().then(s.bind(s,93774)),Promise.resolve().then(s.bind(s,14605)),Promise.resolve().then(s.bind(s,63090)),Promise.resolve().then(s.bind(s,18244)),Promise.resolve().then(s.bind(s,58565)),Promise.resolve().then(s.bind(s,33864)),Promise.resolve().then(s.bind(s,16964)),Promise.resolve().then(s.bind(s,91314)),Promise.resolve().then(s.bind(s,89770)),Promise.resolve().then(s.bind(s,40088)),Promise.resolve().then(s.bind(s,38258)),Promise.resolve().then(s.bind(s,90632)),Promise.resolve().then(s.bind(s,76984)),Promise.resolve().then(s.bind(s,19758)),Promise.resolve().then(s.bind(s,10545)),Promise.resolve().then(s.bind(s,17311)),Promise.resolve().then(s.bind(s,62310)),Promise.resolve().then(s.bind(s,45136)),Promise.resolve().then(s.bind(s,90594)),Promise.resolve().then(s.bind(s,55260)),Promise.resolve().then(s.bind(s,74872)),Promise.resolve().then(s.bind(s,86793)),Promise.resolve().then(s.bind(s,3416)),Promise.resolve().then(s.bind(s,32506)),Promise.resolve().then(s.bind(s,91229)),Promise.resolve().then(s.bind(s,71595)),Promise.resolve().then(s.bind(s,11171)),Promise.resolve().then(s.bind(s,15378)),Promise.resolve().then(s.bind(s,92415)),Promise.resolve().then(s.bind(s,64379)),Promise.resolve().then(s.bind(s,23794)),Promise.resolve().then(s.bind(s,33260)),Promise.resolve().then(s.bind(s,83683)),Promise.resolve().then(s.bind(s,32720)),Promise.resolve().then(s.bind(s,75122)),Promise.resolve().then(s.bind(s,93178)),Promise.resolve().then(s.bind(s,25542)),Promise.resolve().then(s.bind(s,83925)),Promise.resolve().then(s.bind(s,95771)),Promise.resolve().then(s.bind(s,41193)),Promise.resolve().then(s.bind(s,69481)),Promise.resolve().then(s.bind(s,64727)),Promise.resolve().then(s.bind(s,82726)),Promise.resolve().then(s.bind(s,27701)),Promise.resolve().then(s.bind(s,44500)),Promise.resolve().then(s.bind(s,6992)),Promise.resolve().then(s.bind(s,46434)),Promise.resolve().then(s.bind(s,83937)),Promise.resolve().then(s.bind(s,8736)),Promise.resolve().then(s.bind(s,58421)),Promise.resolve().then(s.bind(s,79770)),Promise.resolve().then(s.bind(s,36538)),Promise.resolve().then(s.bind(s,71706)),Promise.resolve().then(s.bind(s,63790)),Promise.resolve().then(s.bind(s,30732)),Promise.resolve().then(s.bind(s,70944)),Promise.resolve().then(s.bind(s,35240)),Promise.resolve().then(s.bind(s,35364)),Promise.resolve().then(s.bind(s,43796)),Promise.resolve().then(s.bind(s,49891)),Promise.resolve().then(s.bind(s,33235)),Promise.resolve().then(s.bind(s,54930)),Promise.resolve().then(s.bind(s,40411)),Promise.resolve().then(s.bind(s,92502)),Promise.resolve().then(s.bind(s,98163)),Promise.resolve().then(s.bind(s,74115)),Promise.resolve().then(s.bind(s,18845)),Promise.resolve().then(s.bind(s,25832)),Promise.resolve().then(s.bind(s,63498)),Promise.resolve().then(s.bind(s,92804)),Promise.resolve().then(s.bind(s,21179)),Promise.resolve().then(s.bind(s,94621)),Promise.resolve().then(s.bind(s,72179)),Promise.resolve().then(s.bind(s,33998)),Promise.resolve().then(s.bind(s,69772)),Promise.resolve().then(s.bind(s,61024)),Promise.resolve().then(s.bind(s,2369)),Promise.resolve().then(s.bind(s,66143)),Promise.resolve().then(s.bind(s,24164)),Promise.resolve().then(s.bind(s,91418)),Promise.resolve().then(s.bind(s,21155)),Promise.resolve().then(s.bind(s,47121)),Promise.resolve().then(s.bind(s,93480)),Promise.resolve().then(s.bind(s,21786)),Promise.resolve().then(s.bind(s,65878)),Promise.resolve().then(s.bind(s,55250)),Promise.resolve().then(s.bind(s,45766)),Promise.resolve().then(s.bind(s,89207)),Promise.resolve().then(s.bind(s,98005)),Promise.resolve().then(s.bind(s,11189)),Promise.resolve().then(s.bind(s,76503)),Promise.resolve().then(s.bind(s,70305)),Promise.resolve().then(s.bind(s,92364)),Promise.resolve().then(s.bind(s,60688)),Promise.resolve().then(s.bind(s,78094)),Promise.resolve().then(s.bind(s,27071)),Promise.resolve().then(s.bind(s,75958)),Promise.resolve().then(s.bind(s,74264)),Promise.resolve().then(s.bind(s,9457)),Promise.resolve().then(s.bind(s,58366)),Promise.resolve().then(s.bind(s,63326)),Promise.resolve().then(s.bind(s,10476)),Promise.resolve().then(s.bind(s,63652)),Promise.resolve().then(s.bind(s,14189)),Promise.resolve().then(s.bind(s,30198)),Promise.resolve().then(s.bind(s,55002)),Promise.resolve().then(s.bind(s,12007)),Promise.resolve().then(s.bind(s,32860)),Promise.resolve().then(s.bind(s,73643)),Promise.resolve().then(s.bind(s,15717)),Promise.resolve().then(s.bind(s,67623)),Promise.resolve().then(s.bind(s,59565)),Promise.resolve().then(s.bind(s,93668)),Promise.resolve().then(s.bind(s,38028)),Promise.resolve().then(s.bind(s,11934)),Promise.resolve().then(s.bind(s,89847)),Promise.resolve().then(s.bind(s,66645)),Promise.resolve().then(s.bind(s,91853)),Promise.resolve().then(s.bind(s,24454)),Promise.resolve().then(s.bind(s,96489)),Promise.resolve().then(s.bind(s,8485)),Promise.resolve().then(s.bind(s,56506)),Promise.resolve().then(s.bind(s,37117)),Promise.resolve().then(s.bind(s,60825)),Promise.resolve().then(s.bind(s,51345)),Promise.resolve().then(s.bind(s,19349)),Promise.resolve().then(s.bind(s,26225)),Promise.resolve().then(s.bind(s,38589)),Promise.resolve().then(s.bind(s,59144)),Promise.resolve().then(s.bind(s,71894)),Promise.resolve().then(s.bind(s,90533)),Promise.resolve().then(s.bind(s,87848)),Promise.resolve().then(s.bind(s,98865)),Promise.resolve().then(s.bind(s,86151)),Promise.resolve().then(s.bind(s,15203)),Promise.resolve().then(s.bind(s,99640)),Promise.resolve().then(s.bind(s,3601)),Promise.resolve().then(s.bind(s,58835)),Promise.resolve().then(s.bind(s,67821)),Promise.resolve().then(s.bind(s,89522)),Promise.resolve().then(s.bind(s,63475)),Promise.resolve().then(s.bind(s,98172)),Promise.resolve().then(s.bind(s,36805)),Promise.resolve().then(s.bind(s,23653)),Promise.resolve().then(s.bind(s,80533)),Promise.resolve().then(s.bind(s,61275)),Promise.resolve().then(s.bind(s,73606)),Promise.resolve().then(s.bind(s,3192)),Promise.resolve().then(s.bind(s,65197)),Promise.resolve().then(s.bind(s,39398)),Promise.resolve().then(s.bind(s,72603)),Promise.resolve().then(s.bind(s,74451)),Promise.resolve().then(s.bind(s,24413)),Promise.resolve().then(s.bind(s,41427)),Promise.resolve().then(s.bind(s,24655)),Promise.resolve().then(s.bind(s,27119)),Promise.resolve().then(s.bind(s,76213)),Promise.resolve().then(s.bind(s,94291)),Promise.resolve().then(s.bind(s,3439)),Promise.resolve().then(s.bind(s,38815)),Promise.resolve().then(s.bind(s,1021)),Promise.resolve().then(s.bind(s,9609)),Promise.resolve().then(s.bind(s,75459)),Promise.resolve().then(s.bind(s,94419)),Promise.resolve().then(s.bind(s,63427)),Promise.resolve().then(s.bind(s,5297)),Promise.resolve().then(s.bind(s,37047)),Promise.resolve().then(s.bind(s,49957)),Promise.resolve().then(s.bind(s,97511)),Promise.resolve().then(s.bind(s,24107)),Promise.resolve().then(s.bind(s,49165)),Promise.resolve().then(s.bind(s,58541)),Promise.resolve().then(s.bind(s,50099)),Promise.resolve().then(s.bind(s,86845)),Promise.resolve().then(s.bind(s,35747)),Promise.resolve().then(s.bind(s,80738)),Promise.resolve().then(s.bind(s,2380)),Promise.resolve().then(s.bind(s,94564)),Promise.resolve().then(s.t.bind(s,77994,23)),Promise.resolve().then(s.bind(s,53700)),Promise.resolve().then(s.bind(s,88240)),Promise.resolve().then(s.bind(s,37296)),Promise.resolve().then(s.bind(s,6424)),Promise.resolve().then(s.bind(s,35264)),Promise.resolve().then(s.bind(s,57720)),Promise.resolve().then(s.bind(s,4552)),Promise.resolve().then(s.bind(s,59680)),Promise.resolve().then(s.bind(s,31064)),Promise.resolve().then(s.bind(s,63078)),Promise.resolve().then(s.bind(s,55904)),Promise.resolve().then(s.bind(s,80324)),Promise.resolve().then(s.bind(s,29100)),Promise.resolve().then(s.bind(s,92380)),Promise.resolve().then(s.bind(s,79300)),Promise.resolve().then(s.bind(s,51568)),Promise.resolve().then(s.bind(s,72504)),Promise.resolve().then(s.bind(s,8225)),Promise.resolve().then(s.bind(s,48226)),Promise.resolve().then(s.bind(s,62280)),Promise.resolve().then(s.bind(s,56408)),Promise.resolve().then(s.bind(s,26442)),Promise.resolve().then(s.bind(s,74424)),Promise.resolve().then(s.bind(s,62295)),Promise.resolve().then(s.bind(s,27712)),Promise.resolve().then(s.bind(s,94232)),Promise.resolve().then(s.bind(s,8893)),Promise.resolve().then(s.bind(s,7054)),Promise.resolve().then(s.bind(s,21740)),Promise.resolve().then(s.bind(s,18364)),Promise.resolve().then(s.bind(s,56080)),Promise.resolve().then(s.bind(s,57256)),Promise.resolve().then(s.bind(s,1392)),Promise.resolve().then(s.bind(s,98200)),Promise.resolve().then(s.bind(s,50822)),Promise.resolve().then(s.bind(s,17092)),Promise.resolve().then(s.bind(s,7406)),Promise.resolve().then(s.bind(s,70382)),Promise.resolve().then(s.bind(s,69112)),Promise.resolve().then(s.bind(s,97032)),Promise.resolve().then(s.bind(s,11286)),Promise.resolve().then(s.bind(s,8320)),Promise.resolve().then(s.bind(s,87444)),Promise.resolve().then(s.bind(s,91128)),Promise.resolve().then(s.bind(s,77808)),Promise.resolve().then(s.bind(s,66308)),Promise.resolve().then(s.bind(s,90300)),Promise.resolve().then(s.bind(s,55026)),Promise.resolve().then(s.bind(s,11928)),Promise.resolve().then(s.bind(s,58190)),Promise.resolve().then(s.bind(s,91400)),Promise.resolve().then(s.bind(s,91388)),Promise.resolve().then(s.bind(s,53360)),Promise.resolve().then(s.bind(s,30548)),Promise.resolve().then(s.bind(s,20888)),Promise.resolve().then(s.bind(s,38606)),Promise.resolve().then(s.bind(s,59806)),Promise.resolve().then(s.bind(s,66748)),Promise.resolve().then(s.bind(s,60088)),Promise.resolve().then(s.bind(s,97224)),Promise.resolve().then(s.bind(s,94280)),Promise.resolve().then(s.bind(s,5070)),Promise.resolve().then(s.bind(s,24980)),Promise.resolve().then(s.bind(s,40038)),Promise.resolve().then(s.bind(s,386)),Promise.resolve().then(s.bind(s,32076)),Promise.resolve().then(s.bind(s,4268)),Promise.resolve().then(s.bind(s,44824)),Promise.resolve().then(s.bind(s,26578)),Promise.resolve().then(s.bind(s,31416)),Promise.resolve().then(s.bind(s,70936)),Promise.resolve().then(s.bind(s,58064)),Promise.resolve().then(s.bind(s,25528)),Promise.resolve().then(s.bind(s,27580)),Promise.resolve().then(s.bind(s,41030)),Promise.resolve().then(s.bind(s,2378)),Promise.resolve().then(s.bind(s,70134)),Promise.resolve().then(s.bind(s,96202)),Promise.resolve().then(s.bind(s,32130)),Promise.resolve().then(s.bind(s,34982)),Promise.resolve().then(s.bind(s,8350)),Promise.resolve().then(s.bind(s,90982)),Promise.resolve().then(s.bind(s,35263)),Promise.resolve().then(s.bind(s,61382)),Promise.resolve().then(s.bind(s,23767)),Promise.resolve().then(s.bind(s,59126)),Promise.resolve().then(s.t.bind(s,72893,23)),Promise.resolve().then(s.t.bind(s,46438,23)),Promise.resolve().then(s.t.bind(s,40857,23)),Promise.resolve().then(s.t.bind(s,14374,23)),Promise.resolve().then(s.t.bind(s,73694,23)),Promise.resolve().then(s.t.bind(s,16228,23)),Promise.resolve().then(s.t.bind(s,43606,23)),Promise.resolve().then(s.bind(s,61093))},53987:(e,n,s)=>{"use strict";s.d(n,{Wf:()=>l,yc:()=>d,MT:()=>t,i5:()=>i,WC:()=>o});let r=JSON.parse('[{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"CIDs","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"Data","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"delCID","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"delData","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"delName","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getCID","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getData","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getName","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"}],"name":"getOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"nameOwners","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"names","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_cid","type":"string"}],"name":"setCID","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_data","type":"string"}],"name":"setData","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_newName","type":"string"}],"name":"setName","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),t="0xB67662F0d2BB106B055503062e1dba4f072f5781",i="0x8F175B89C1A5Bb27f050FC88F0894d684A45f299",o={mainnet:{chainId:8453,rpc:"https://mainnet.base.org",name:"Base 主网",color:"blue",explorer:"https://basescan.org",RPCs:["https://base.llamarpc.com","https://mainnet.base.org","https://developer-access-mainnet.base.org","https://base-mainnet.diamondswap.org/rpc","https://base.public.blockpi.network/v1/rpc/public","https://1rpc.io/base","https://base-pokt.nodies.app","https://base.meowrpc.com","https://base-mainnet.public.blastapi.io","https://base.gateway.tenderly.co","https://gateway.tenderly.co/public/base","https://rpc.notadegen.com/base","https://base-rpc.publicnode.com","https://base.drpc.org","https://base.api.onfinality.io/public","https://public.stackup.sh/api/v1/node/base-mainnet","https://base-mainnet.gateway.tatum.io","https://base.rpc.subquery.network/public","https://api.zan.top/base-mainnet","https://endpoints.omniatech.io/v1/base/mainnet/public","https://base.lava.build","https://rpc.numa.network/base","https://node.histori.xyz/base-mainnet/8ry9f6t9dct1se2hlagxnd9n2a","https://0xrpc.io/base","https://rpc.owlracle.info/base/70d38ce1826c4a60bb2a8e05a6c8b20f","https://base.therpc.io"]},testnet:{chainId:84532,rpc:"https://sepolia.base.org",name:"Base 测试网",color:"orange",explorer:"https://sepolia.basescan.org",RPCs:["https://base-sepolia.gateway.tenderly.co","https://base-sepolia.drpc.org","https://base-sepolia-public.nodies.app","https://base-sepolia.therpc.io","https://base-sepolia.api.onfinality.io/public","https://sepolia.base.org","https://base-sepolia-rpc.publicnode.com"]}},l=[{inputs:[],name:"getAllDots",outputs:[{internalType:"address[]",name:"addresses",type:"address[]"},{internalType:"string[]",name:"names",type:"string[]"},{internalType:"string[][]",name:"APIss",type:"string[][]"},{internalType:"string[][]",name:"CIDss",type:"string[][]"},{internalType:"uint256[]",name:"updates",type:"uint256[]"}],stateMutability:"view",type:"function"}],d=r},56612:(e,n,s)=>{"use strict";s.d(n,{BP:()=>b,OM:()=>P,yO:()=>v});var r=s(68110),t=s(330),i=s(16405),o=s(42779),l=s(10179),d=s(38798),m=s(43591),a=s(28555),h=s.n(a);let b=(e,n,s)=>{let m=(0,r.YW)(n),a=(0,r.YW)("/most.box/"+e),b=(0,t.A)(m,a,3,32,"sha512"),v=(0,i.q5)((0,o.s)(b)),P=v.slice(0,32),p=h().box.keyPair.fromSecretKey(P),c=(0,i.c$)(p.publicKey),u=(0,i.c$)(p.secretKey),y=h().sign.keyPair.fromSeed(P),g=(0,i.c$)(y.publicKey),f=l.v.entropyToPhrase(v);return{username:e,address:d.QX.fromPhrase(f).address,public_key:c,private_key:u,mnemonic:"I know loss mnemonic will lose my wallet."===s?f:"",ed_public_key:g}},v=(e,n,s)=>{let r=new TextEncoder().encode(e),t=h().randomBytes(h().box.nonceLength),o=h().box(r,t,new Uint8Array((0,i.q5)(n)),new Uint8Array((0,i.q5)(s)));return o?["mp://2",(0,m.W)(t),(0,m.W)(o)].join("."):(console.info("加密失败"),"")},P=(e,n,s)=>{let[r,t,o]=e.split(".");if("mp://2"!==r)return console.info("无效协议"),"";let l=h().box.open((0,m.y)(o),(0,m.y)(t),new Uint8Array((0,i.q5)(n)),new Uint8Array((0,i.q5)(s)));return l?new TextDecoder().decode(l):(console.info("无法解密"),"")}},61093:(e,n,s)=>{"use strict";s.d(n,{default:()=>b});var r=s(1474),t=s(13297),i=s(29311),o=s(12115),l=s(21794),d=s(63475),m=s(89522),a=s(59126),h=s(97443);function b(){let e=(0,t.k)(e=>e.exit),n=(0,t.k)(e=>e.setWallet),s=(0,t.k)(e=>e.setItem),b=(0,i.E)(e=>e.setItem),v=(0,i.E)(e=>e.setNetwork),P=(0,i.E)(e=>e.updateDot),p=(0,i.E)(e=>e.fetchNodes),c=async()=>{try{let t=await r.Ay.load(),i=(await t.get()).visitorId;sessionStorage.setItem("fingerprint",i);s("fingerprint",i);let o=localStorage.getItem("jwt");if(o)try{let e=h.A.verifyJWT(o);e&&(h.A.createToken(e),n(e))}catch(n){a.notifications.show({message:"登录过期",color:"red"}),console.warn("登录过期",n),e()}}catch(e){return console.warn("登录失败:",e),""}},u=async()=>{var e;let n=await p(),s=(await Promise.all(n.map(async e=>{let{isOnline:n,responseTime:s}=await (0,i.P)(e);return{...e,isOnline:n,responseTime:s}}))).sort((e,n)=>e.responseTime-n.responseTime)[0],r=null==s||null==(e=s.APIs)?void 0:e[0];r&&P(r)};(0,o.useEffect)(()=>{(()=>{let e=window.location.hash.slice(1),n="http".concat(e.endsWith(":1976")?"":"s","://"),s=e?n+e:null;window.location.hash.includes("=")&&(s=null);let r=s||localStorage.getItem("dotAPI");r&&(l.FH.defaults.baseURL=r),P(r||location.origin).then(e=>{null===e&&u()});let t=localStorage.getItem("dotCID");t&&b("dotCID",t)})(),c(),sessionStorage.setItem("firstPath",window.location.pathname),v("mainnet"===localStorage.getItem("network")?"mainnet":"testnet")},[]);let{colorScheme:y}=(0,d.useMantineColorScheme)(),g=(0,m.useComputedColorScheme)();return(0,o.useEffect)(()=>{s("nodeDark","dark"===("auto"===y?g:y)?"toastui-editor-dark":"")},[y,g]),null}},71281:()=>{},97443:(e,n,s)=>{"use strict";s.d(n,{A:()=>A});var r=s(43591),t=s(68110),i=s(38798),o=s(16405),l=s(82127),d=s(34477),m=s(55544),a=s(85179),h=s(56612),b=s(86710),v=s(36117),P=s.n(v),p=s(44839),c=s.n(p);s(28223);var u=s(78595),y=s.n(u),g=s(28555),f=s.n(g);P().extend(y()),P().extend(c()),P().locale("zh-cn");let w=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYYMM",s=P()().isoWeek(),r=P()().format(n)+s,t=sessionStorage.getItem("fingerprint");if(!t)throw Error("请先获取设备指纹");let i=[location.origin,t].join("/"),{public_key:o,private_key:l}=(0,h.BP)(r,i);return(0,h.yO)(JSON.stringify(e),o,l)},I=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYYMM",s=P()().isoWeek(),r=P()().format(n)+s,t=sessionStorage.getItem("fingerprint");if(!t)throw Error("请先获取设备指纹");let i=[location.origin,t].join("/"),{public_key:o,private_key:l}=(0,h.BP)(r,i),d=(0,h.OM)(e,o,l);if(!d)throw Error("jwt 解析失败");let m=JSON.parse(d);if(!m.address)throw Error("jwt json 解析失败");return m},k=async e=>{let n=Date.now().toString(),s=i.QX.fromPhrase(e.mnemonic),r=await s.signMessage(n);localStorage.token=[e.address,n,r].join(".")},D=e=>{try{var n;let s=w(e);if((null==(n=I(s))?void 0:n.address)===e.address)return localStorage.setItem("jwt",s),k(e),e}catch(e){console.log("登录失败:",e)}return null},T=(e,n)=>{let s=n.slice(2),r=new Uint8Array((0,o.q5)(e+s));return f().sign.keyPair.fromSecretKey(r)},C={avatar:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Most";return(0,d.gn)(m,{seed:"most.box@"+e,flip:!0,backgroundType:["gradientLinear"]}).toDataUri()},avatarCID:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Most";return(0,d.gn)(a,{seed:"most.box#"+e,flip:!0,backgroundType:["gradientLinear","solid"]}).toDataUri()},formatTime:e=>{let n;if(!e)return"";let s=P()(Number(e)),r=s.hour();return n=r>=0&&r<3?"凌晨":r>=3&&r<6?"拂晓":r>=6&&r<9?"早晨":r>=9&&r<12?"上午":r>=12&&r<15?"下午":r>=15&&r<18?"傍晚":r>=18&&r<21?"薄暮":"深夜",s.format("YYYY年M月D日 ".concat(n,"h点m分"))},formatDate:e=>{let n=P()(Number(e)),s=P()();if(n.isSame(s,"minute"))return n.format("HH:mm:ss");if(n.isSame(s,"day"))return n.format("HH:mm");if(n.isSame(s.subtract(1,"day"),"day"))return"昨天 ".concat(n.format("HH:mm"));if(n.isoWeek()===s.isoWeek())return"".concat(["周日","周一","周二","周三","周四","周五","周六"][n.day()]," ").concat(n.format("HH:mm"));if(n.year()===s.year())return n.format("M月D日");else return n.format("YY年M月D日")},formatAddress:e=>e?e.slice(0,6)+"..."+e.slice(-4):"",enBase64:e=>(0,r.W)((0,t.YW)(e)),deBase64:e=>(0,t._v)((0,r.y)(e)),createJWT:w,verifyJWT:I,login:(e,n)=>D((0,h.BP)(e,n,"I know loss mnemonic will lose my wallet.")),loginSave:D,ZeroAddress:l.j,createToken:k,pinyin:function(e,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(n.length<s)return!1;if(e.toLowerCase().includes(n.toLowerCase()))return!0;let r=(0,b.YW)(e,n,{continuous:!0});return!!r&&!!(r.length>=s)},openDot:e=>{let n=new URL("/auth/jwt/",e),s=localStorage.getItem("jwt");if(s){let e=C.verifyJWT(s);if(e){let s=P()().format("YY/M/D HH:mm"),{public_key:r,private_key:t}=(0,h.BP)("auth/jwt",s),i=(0,h.yO)(JSON.stringify(e),r,t);n.searchParams.set("token",i)}}window.open(n.href)},getEdKeyPair:T,getIPNS:(e,n)=>{let s=(e=>{let n=new Uint8Array([8,1,18,...(e=>{let n=[];for(;e>=128;)n.push(127&e|128),e>>=7;return n.push(e),n})(e.length)]),s=new Uint8Array(n.length+e.length);return s.set(n,0),s.set(e,n.length),s})(T(e,n).publicKey),r=new Uint8Array(2+s.length);r[0]=0,r[1]=36,r.set(s,2);let t=new Uint8Array([1,114]),i=new Uint8Array(t.length+r.length);return i.set(t,0),i.set(r,t.length),"k"+((e,n)=>{if(0===e.length)return"";let s=n.length,r=0;for(;r<e.length&&0===e[r];)r++;let t=[0];for(let n=r;n<e.length;n++){let r=e[n];for(let e=0;e<t.length;e++){let n=256*t[e]+r;t[e]=n%s,r=Math.floor(n/s)}for(;r>0;)t.push(r%s),r=Math.floor(r/s)}let i="";for(let e=0;e<r;e++)i+=n[0];for(let e=t.length-1;e>=0;e--)i+=n[t[e]];return i})(i,"0123456789abcdefghijklmnopqrstuvwxyz")}},A=C}},e=>{e.O(0,[2997,4498,1069,4732,8198,2545,2794,5619,6714,8555,8835,5125,6476,9287,3584,5595,9457,380,9032,7285,6982,9919,7146,5122,722,194,7155,8441,1255,7358],()=>e(e.s=48492)),_N_E=e.O()}]);